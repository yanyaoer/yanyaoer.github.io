<!doctype html><html><head><meta name=generator content="Hugo 0.68.3"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>yÃ¡nyÃ o.com</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=alternate type=application/rss+xml href=http://y%C3%A1ny%C3%A0o.com/index.xml title=yÃ¡nyÃ o.com><meta property="og:title" content="yÃ¡nyÃ o.com"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="http://y%C3%A1ny%C3%A0o.com/"><meta property="og:updated_time" content="2020-06-04T19:05:12+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="yÃ¡nyÃ o.com"><meta name=twitter:description content><link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=http://y%C3%A1ny%C3%A0o.com/css/normalize.css><link rel=stylesheet type=text/css media=screen href=http://y%C3%A1ny%C3%A0o.com/css/main.css><script src=http://y%C3%A1ny%C3%A0o.com/js/main.js></script></head><body><div class="container wrapper"><div class=header><h1 class=site-title><a href=http://y%C3%A1ny%C3%A0o.com/>yÃ¡nyÃ o.com</a></h1><div class=site-description><nav class="nav social"><ul class=flat></ul></nav></div><nav class=nav><ul class=flat></ul></nav></div><div class="recent-posts section"><h2 class=section-header>Recent posts</h2><div class=posts><div class=post><div class=meta>Jun 4, 2020</div><a class=title href=/posts/bitwarden_rs_with_podman/>Deploy bitwarden_rs with podman</a> &mdash;
<span class=description>bitwarden_rs1 æ˜¯ä¸ªç”¨ rust/rocket ç¼–å†™çš„éå®˜æ–¹ api å®ç°ï¼Œ dotnet ç‰ˆæœ¬æœ‰ç‚¹å„¿ä¸å¤ªé€‚åˆæ‰‹å¤´çš„éƒ¨ç½²ç¯å¢ƒ
è¿™é‡Œç”¨æ¯”è¾ƒç°ä»£çš„ podman2 æ¥è¿è¡Œ docker æœåŠ¡
podman run -d --name bitwarden -v /bw-data/:/data/:Z -e ROCKET_PORT=8080 -p 8080:8080 bitwardenrs/server:latest podman generate systemd --name bitwarden --files mv container-bitwarden.service /etc/systemd/system/ systemctl --user enable /etc/systemd/system/container-bitwarden.service systemctl --user start container-bitwarden.service ç„¶åç”¨ nginx æˆ–è€… caddy ä»£ç†ä¸€ä¸‹ 8080 ç«¯å£å³å¯è¿æ¥å®¢æˆ·ç«¯
brew install bitwarden-cli # npm install -g @bitwarden/cli bw config server https://bw.myserver.com https://github.com/dani-garcia/bitwarden_rs/wiki/Using-Podman &#8617;&#xfe0e;
https://podman.io/getting-started/installation.html &#8617;&#xfe0e;
&mldr;</span></div><div class=post><div class=meta>Jun 2, 2020</div><a class=title href=/posts/minio-storage-service/>Minio Storage Service</a> &mdash;
<span class=description>min.io æ¥è‡ªå‰ glusterFS å›¢é˜Ÿçš„åˆ†å¸ƒå¼å­˜å‚¨é¡¹ç›®ï¼Œ å…¼å®¹ aws s3 / google cloud storage æ¥å£ï¼Œæ”¯æŒå¤šç£ç›˜ã€å¤šèŠ‚ç‚¹ï¼Œä¼¸ç¼©æ‰©å®¹æ–¹ä¾¿ï¼Œ golang ç¼–å†™+å•æ‰§è¡Œæ–‡ä»¶éƒ¨ç½²ï¼Œéå¸¸é€‚åˆç”¨ k8s ç¼–æ’å¤åˆ¶æ¥æ­å»ºç§æœ‰å¯¹è±¡å­˜å‚¨æœåŠ¡
æ²¡æœ‰ç”Ÿäº§ç¯å¢ƒçš„ä½¿ç”¨ç»éªŒï¼Œä»¥ä¸‹ä»…ç”¨äºä¸šä½™å°é²œ å…­ä¸€èŠ‚ç¤¼ç‰©
GNU/Linux ä¸‹è½½å®‰è£… wget https://dl.min.io/server/minio/release/linux-amd64/minio -O /usr/local/bin/minio chmod +x /user/local/bin/minio æ·»åŠ ç”¨æˆ·ã€ç»„å’Œé…ç½®æ–‡ä»¶ groupadd --system minio useradd --system --gid minio --shell /usr/sbin/nologin --comment "Minio file server" minio mkdir -p /data/minio chown -R minio:minio /data/minio # replace minio.service with your own config, eg. User,Group wget https://raw.githubusercontent.com/minio/minio-service/master/linux-systemd/minio.service -O /etc/systemd/system/minio.service é…ç½®ç«¯å£å’Œå¯†é’¥ # optional. run `uuidgen` to creates AK/SK cat &lt;&lt;EOF >> /tmp/minio MINIO_VOLUMES="/data/minio/" MINIO_OPTS="--address :9199" MINIO_ACCESS_KEY=`uuidgen` MINIO_SECRET_KEY=`uuidgen` EOF å¯åŠ¨æœåŠ¡ systemctl enable minio.&mldr;</span></div><div class=post><div class=meta>May 15, 2020</div><a class=title href=/posts/pour-over-coffee-makers/>Pour Over Coffee Makers</a> &mdash;
<span class=description>åŠå…¬å®¤æ—¥å¸¸ç”¨å“ hario v60 2äººä»½ç»ç’ƒæ»¤æ¯ 1 hario v60 600ml äº‘æœµåˆ†äº«å£¶ 2 comandante c40 æ‰‹æ‘‡ç£¨è±†æœº 3 kalita 700ml ç»†å˜´å£¶ 4 rivers seek éšæ‰‹æ¯ 5 æ¯å¤©ä¸€æ—© ä¸­åˆ åˆ°å…¬å¸å¼€å§‹çƒ§æ°´ï¼Œç„¶åå­å‘²å­å‘²æ‘‡ 40g è±†å­å…‘ 600ml å·¦å³çš„æ°´
æ‰‹æ³•å°±æ¯”è¾ƒéšæ„äº†ï¼Œä¸»è¦å‚è€ƒä¸‹é¢ä¸¤ä¸ªè§†é¢‘ï¼Œå‡ºå“å¤§æ¦‚ç‡æˆ‘è‡ªå·±éƒ½è¿˜æŒºå–œæ¬¢çš„ æŒ‰æ¯”ä¾‹åŠ æ³¨æ°´é‡ç¿»å€
&mdash; updated at 2020-0615 &mdash;
æ–°è´­å…¥ Mr.clever èªæ˜æ¯ 6
&ldquo;4:6 method&rdquo; by Tetsu Kasuya 7 &ldquo;The Ultimate V60 Technique&rdquo; by James Hoffmann å®¶åº­ç‰ˆ baratza encore ç”µåŠ¨ç£¨è±†å™¨ 8 kinto OCT 2äººä»½é™¶ç“·æ»¤æ¯ 9 ikea vardagen 500ml ç»ç’ƒé‡æ¯ 10 muji ä¸‡å¤çƒ§é©¬å…‹æ¯ 11 åˆšå¼€å§‹çš„æ—¶å€™è£…å¤‡ä¸Šäº¤äº†ä¸å°‘å­¦è´¹ï¼Œæ¯”å¦‚ï¼šç”µåŠ¨ç è±†æœºã€å»‰ä»·æ‰‹ç£¨ã€aeropressï¼Œ è™½ç„¶ä¸èƒ½ä¸€æ¦‚è€Œè®ºï¼Œå®é™…ä¸Šå¾ˆå¤§ç¨‹åº¦è¿˜æ˜¯éµå¾ªä¸€åˆ†é’±ä¸€åˆ†è´§çš„åŸåˆ™ï¼Œæ€§èƒ½è¶Šå¥½åˆ™ä»·æ ¼å‘ˆæŒ‡æ•°ä¸Šæ¶¨ æ¡ä»¶å…è®¸çš„è¯å°½é‡é€‰æ‹©å¥½ä¸€ç‚¹çš„è®¾å¤‡ï¼Œæ¯•ç«Ÿä¹Ÿæ˜¯å¤©å¤©è¦ç”¨çš„å®¶ä¼™äº‹&mldr;</span></div><div class=post><div class=meta>May 15, 2020</div><a class=title href=/posts/mastodon/>Mastodon</a> &mdash;
<span class=description>Mastodon é•¿æ¯›è±¡1 &ndash; åŸºäº rubyonrails/reactjs/nodejs å¼€å‘çš„åˆ†å¸ƒå¼ & å»ä¸­å¿ƒåŒ– twiter cloneã€‚åˆ©ç”¨ç©ºé—²æ—¶é—´åœ¨ aws lightsail ä¸Šå¼€äº†ä¸ªå®ä¾‹æŠŠæœåŠ¡è·‘äº†èµ·æ¥
ä¸€å¼€å§‹èµ°äº†äº›å¼¯è·¯ï¼Œå› ä¸ºé€‰æœºæˆ¿å’Œçœé’±çš„ç¼˜æ•…ï¼Œé‡å»ºäº†è‹¥å¹²æ¬¡æ“ä½œç³»ç»Ÿï¼Œæœ€åçš„é€‰æ‹©æ˜¯ tokyo+cloudflareï¼Œæ²¡é”™æˆ‘åˆå¥—äº† cdnï¼Œå®åœ¨æ˜¯æµ·å¤–çº¿è·¯åˆ°åŒ—äº¬è”é€šä¸ç¨³å®š
å®‰è£…æ­¥éª¤æ²¡æœ‰ä½¿ç”¨ docker è€Œæ˜¯å‚è€ƒæ–‡æ¡£ä»æºç å®‰è£…2ï¼ŒåŸå› å’Œè§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š
æœºå™¨ç”¨ $3.5/mo 512mem æœ€ä¾¿å®œçš„é‚£æ¡£æ¶ˆè´¹é™çº§ï¼Œå‡ºäº net/io æ€§èƒ½è€ƒè™‘å°±ä¸ä½¿ docker å•¦
å†…å­˜é—®é¢˜ï¼ŒRAILS_ENV=production bundle exec rake mastodon:setup è¿™ä¸€æ­¥éª¤æ‰§è¡Œåˆ° rails assets:precompileï¼Œ ä¸ç®¡æ˜¯åœ¨ docker é‡Œè·‘è¿˜æ˜¯ç›´æ¥è¿è¡Œéƒ½ä¼šæŠ¥ swap åˆ†åŒºä¸è¶³ï¼Œæ‰¾åˆ°ä¸¤ä¸ªæ–¹æ¡ˆæ¥è§£å†³:
# create swapfile &lt;https://linuxize.com/post/create-a-linux-swap-file/> $ sudo fallocate -l 2G /swapfile $ sudo chmod 600 /swapfile $ sudo mkswap /swapfile $ sudo swapon /swapfile # verify active $ sudo swapon --show # optional: low value is better for production $ sudo sysctl vm.&mldr;</span></div><div class=post><div class=meta>May 9, 2020</div><a class=title href=/posts/gitlab-repo/>Gitlab Repo</a> &mdash;
<span class=description>gitlab é‡Œé¢å·²ç»æœ‰åæ¥ä¸ª groupï¼Œå‡ ç™¾ä¸ª projectï¼Œè™½ç„¶ä¸ä¸€å®šä¼šæ¯ä¸ªé¡¹ç›®éƒ½å‚ä¸ï¼Œ ä½†æ˜¯ä¸ºäº†å¿«é€ŸåŒæ­¥ä»£ç ï¼Œåˆæ¡èµ·äº† android å¼€å‘å¸¸ç”¨çš„ repo å‘½ä»¤æ¥ç®¡ç†å¤šé¡¹ç›®ä»£ç ã€‚ è¿™é‡Œä½¿ç”¨äº† gitlab graphql æ¥å£æ¥éå†é¡¹ç›®ç”Ÿæˆåˆ†ç»„çš„ manifest æ–‡ä»¶
#!/usr/bin/env python import argparse import json import os import urllib2 GITLAB_HOST = "gitlab.mydomain.com" GITLAB_SSH_URL = "ssh://git@" + GITLAB_HOST GITLAB_GRAPHQL_URL = "https://" + GITLAB_HOST + "/api/graphql" GITLAB_TOKEN = "" GITLAB_GROUP = [""] BLACK_LIST = ("",) # ä»¥ä¸Šé…ç½®ä¿®æ”¹ä¸ºè‡ªå·±çš„è®¾å®š template = """&lt;?xml version="1.0" encoding="UTF-8"?> &lt;!-- autogen by gen.py, do not edit this file --> &lt;manifest> &lt;remote name="origin" fetch="{ssh_url}" /> &lt;default revision="master" remote="origin" sync-c="true" sync-j="4" /> {content} &lt;/manifest>""" def write_file(content, filename="default.&mldr;</span></div><div class=post><div class=meta>May 7, 2020</div><a class=title href=/posts/dash-replacement/>Dash Replacement with tmux</a> &mdash;
<span class=description>é€šè¿‡ tmux å¿«æ·é›†æˆæ›¿æ¢ dash.app æŸ¥è¯¢å¼€å‘æ–‡æ¡£
$ brew install dasht $ dasht-docsets | tr 'A-Z' 'a-z' go javascript python_3 rust tornado # tmux.conf quick start bind -n S-up command-prompt -p 'docset:' "splitw -h -fb -l 80 dasht '%%'" &mldr;</span></div><div class=post><div class=meta>May 7, 2020</div><a class=title href=/posts/cloudflare-gost/>Cloudflare Gost</a> &mdash;
<span class=description>ä»æ¸…æ˜èŠ‚å¼€å§‹ï¼Œç¨³å®šè¿è¡Œå¥½å‡ å¹´çš„ ss æœåŠ¡å™¨ç»ˆäºé˜µäº¡äº†ï¼Œæ‰€æœ‰ç«¯å£å…¨æŒ‚ã€‚ä¸€ç›´è¹­å…¬å¸çš„ vpn æŸ¥èµ„æ–™ä¹ŸæŒºåˆ°äº†äº”ä¸€ï¼Œå®åœ¨æ‹–å»¶å¤Ÿå¤Ÿçš„å°±å†å¦å¤–å¼€äº†ä¸€å°æœºå™¨ä¸­è½¬è¿‡å»è¿ç§»æ•°æ®ï¼Œä¸è¿‡å˜›å¹´çºªå¤§äº†åˆå¼€å§‹çŠ¯æ‡’ï¼Œä¼å›¾æ‹¯æ•‘è·å¾—èµ„æ ¼è®¤è¯çš„æœºå™¨ï¼Œé€šè¿‡ä¸€ç•ªç½‘ä¸Šå†²æµªå­¦ä¹ åˆ°äº†ç›®å‰(å®æµ‹å¯ç”¨)èƒ½æ»¡è¶³æˆ‘éœ€æ±‚çš„æ–¹æ¡ˆã€‚ç®€å•æ¥è¯´å°±æ˜¯ï¼šcloudflare[åæ–‡ç®€ç§°ä¸º cf] + websockets over gostï¼Œå®é™…çš„å®¢æˆ·ç«¯é€šè¿‡ cdn ä»£ç†å†æ¥å…¥æœåŠ¡
æœ‰å‡ ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š
gost å¯åŠ¨æ—¶ç»‘å®šçš„ localhost ä¸ç›´æ¥å¯¹å¤–è®¿é—®ï¼Œèµ°äº† caddy çš„è½¬å‘ï¼Œè€Œè¿™ä¸€æ­¥å’Œ cf çš„ ssl è¯ä¹¦é…ç½®ä¼šé€ æˆä¸åœçš„é‡å®šå‘è·³è½¬ï¼Œéœ€è¦å°† cf åŠ å¯†æ¨¡å¼é…ç½®ä¸º flexible
ç„¶åä¿®æ”¹ caddy çš„åŸŸåé…ç½®ä¸º http://domain.com https://domain.com { &mldr; } é˜»æ­¢ cf å’Œ caddy ä¹‹é—´çš„ http -> https
gost æœåŠ¡ç«¯ç›‘å¬ ws åè®®ï¼Œæœ¬åœ°çš„ gost å®¢æˆ·ç«¯è½¬å‘ wss åè®®è¿æ¥ cf_domain:443
éœ€è¦é‰´æƒçš„æ–¹æ¡ˆä½¿ç”¨ socks5+wss://username:password@domain:port
android å®¢æˆ·ç«¯çš„è®¾ç½®ï¼Œå› ä¸ºä½¿ç”¨äº† ws åè®®ï¼Œæ‰€ä»¥éœ€è¦å°†åŸŸåå†™å…¥åˆ°æ’ä»¶çš„é…ç½®é‡Œï¼Œç›´æ¥ç”¨åŸŸåå˜é‡æ— æ³•è§£æ
å…·ä½“é…ç½®å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œä¸€åˆ‡æµªè´¹çš„æ—¶é—´éƒ½æ˜¯æºäºæ²¡è®¤çœŸä»”ç»†çœ‹æ–‡æ¡£&mldr;</span></div><div class=post><div class=meta>Jan 13, 2017</div><a class=title href=/posts/webpack-resolve-local-module/>webpack resolve local module</a> &mdash;
<span class=description>æœ€è¿‘çš„é¡¹ç›®åˆšå¼€å§‹ï¼Œè®¾è®¡çš„ç›®å½•å±‚çº§æœ‰ç‚¹æ·±
ç»å¸¸ä¼šåœ¨å¥½å‡ å±‚æœ¬åœ°è·¯å¾„ä¹‹é—´äº’ç›¸å¼•ç”¨
import Image from '../../../../components/image'
è¿™å±‚å±‚å å çš„è·¯å¾„å†™èµ·æ¥å®åœ¨ä¸‘é™‹
ä¸ç”±å¾—æƒ³èµ· Python ä»é¡¹ç›®æ ¹ç›®å½•å¼•ç”¨æ¨¡å—
ç„¶åç ”ç©¶äº†ä¸€ä¸‹ Node.js é‡Œçš„å‡ ç§ç®€æ˜“å®ç°
å¹²è„†åˆ©è½çš„è½¯è¿æ¥: ln -s node_modules src
ä¿®æ”¹ç¯å¢ƒå˜é‡: NODE_PATH=. node app
ä»æœ¬åœ°ç›®å½•å®‰è£…:
// package.json // éœ€è¦è¿è¡Œ npm install { "name": "baz", "dependencies": { "foo": "file: ./src", } } å¦å¤–è¿˜æœ‰äº›ä¿®æ”¹ globalï¼Œæˆ–è€…å¼•å…¥å…¶ä»– require å®ç°çš„æ–¹æ³•å°±ä¸å†ä¸€ä¸€åˆ—å‡ºäº†
æœ€ç»ˆé€‰æ‹©çš„æ˜¯ä¿®æ”¹ webpack é…ç½®
// webpack.config.js resolve: { modulesDirectories: [__dirname, 'node_modules'], } https://gist.github.com/branneman/8048520 http://stackoverflow.com/questions/10860244/how-to-make-the-require-in-node-js-to-be-always-relative-to-the-root-folder-of-t/41078266#41078266 https://webpack.github.io/docs/configuration.html#resolve-modulesdirectories&mldr;</span></div><div class=post><div class=meta>Oct 25, 2016</div><a class=title href=/posts/leonard-cohen-you-want-it-darker/>Leonard Cohen - you want it darker</a> &mdash;
<span class=description>å¹´åº¦æœ€ä½³
you want it darker
å¾ªç¯å¬äº†å¥½å‡ å¤©
å¹²å‡€ä½æ²‰çš„å—“éŸ³åŠ é…ä¹
æ„ˆå‘æ‹…å¿ƒä»¥åå¬ä¸åˆ°äº†æ€ä¹ˆåŠ ğŸ˜¢ï½&mldr;</span></div><div class=post><div class=meta>Jun 15, 2016</div><a class=title href=/posts/web-audio/>web audio</a> &mdash;
<span class=description>ç…§æ–‡æ¡£æ’¸äº†ä¸€ä¸‹ AudioContext å¯è§†åŒ–éŸ³é¢‘
æ¡Œé¢æµè§ˆå™¨ä¸Š Safari 9, Chrome stable ç»˜åˆ¶æ­£å¸¸
ç§»åŠ¨ç«¯åªæœ‰å¾®ä¿¡çš„ webview èƒ½å·¥ä½œ, çº¯ç©ç¥¨å» ref: https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Visualizations_with_Web_Audio_API
&lt;!DOCTYPE html> &lt;html> &lt;head> &lt;meta charset="utf-8"> &lt;meta name="viewport" content="width=device-width, user-scalable=no"> &lt;title>AV&lt;/title> &lt;/head> &lt;body> &lt;canvas id="vis">&lt;/canvas> &lt;audio id="av" src="YOUR_AUDIO_FILE">&lt;/audio> &lt;script src="index.js">&lt;/script> &lt;/body> &lt;/html> window.AudioContext = window.AudioContext || window.webkitAudioContext || window.mozAudioContext; window.onload = function(){ var canvas = document.getElementById('vis'); var canvasCtx = canvas.getContext('2d'); var isPlaying = true; var audio = document.getElementById('av'); var audioCtx = new AudioContext(); var analyser = audioCtx.&mldr;</span></div><ul class=pagination><li class="page-item page-prev"></li><li class="page-item page-next"><a href=/page/2/ class=page-link aria-label=Next><span aria-hidden=true>Next page â†’</span></a></li></ul></div></div></div><div class="footer wrapper"><nav class=nav><div><a href=https://github.com/vividvilla/ezhil>Ezhil theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></nav></div></body></html>