<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on yÃ¡nyÃ o.com</title><link>http://y%C3%A1ny%C3%A0o.com/posts/</link><description>Recent content in Posts on yÃ¡nyÃ o.com</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Thu, 04 Jun 2020 19:05:12 +0800</lastBuildDate><atom:link href="http://y%C3%A1ny%C3%A0o.com/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>Deploy bitwarden_rs with podman</title><link>http://y%C3%A1ny%C3%A0o.com/posts/bitwarden_rs_with_podman/</link><pubDate>Thu, 04 Jun 2020 19:05:12 +0800</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/bitwarden_rs_with_podman/</guid><description>bitwarden_rs1 æ˜¯ä¸ªç”¨ rust/rocket ç¼–å†™çš„éå®˜æ–¹ api å®ç°ï¼Œ dotnet ç‰ˆæœ¬æœ‰ç‚¹å„¿ä¸å¤ªé€‚åˆæ‰‹å¤´çš„éƒ¨ç½²ç¯å¢ƒ
è¿™é‡Œç”¨æ¯”è¾ƒç°ä»£çš„ podman2 æ¥è¿è¡Œ docker æœåŠ¡
podman run -d --name bitwarden -v /bw-data/:/data/:Z -e ROCKET_PORT=8080 -p 8080:8080 bitwardenrs/server:latest podman generate systemd --name bitwarden --files mv container-bitwarden.service /etc/systemd/system/ systemctl --user enable /etc/systemd/system/container-bitwarden.service systemctl --user start container-bitwarden.service ç„¶åç”¨ nginx æˆ–è€… caddy ä»£ç†ä¸€ä¸‹ 8080 ç«¯å£å³å¯è¿æ¥å®¢æˆ·ç«¯
brew install bitwarden-cli # npm install -g @bitwarden/cli bw config server https://bw.myserver.com https://github.com/dani-garcia/bitwarden_rs/wiki/Using-Podman &amp;#x21a9;&amp;#xfe0e;
https://podman.io/getting-started/installation.html &amp;#x21a9;&amp;#xfe0e;</description></item><item><title>Minio Storage Service</title><link>http://y%C3%A1ny%C3%A0o.com/posts/minio-storage-service/</link><pubDate>Tue, 02 Jun 2020 09:47:48 +0800</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/minio-storage-service/</guid><description>min.io æ¥è‡ªå‰ glusterFS å›¢é˜Ÿçš„åˆ†å¸ƒå¼å­˜å‚¨é¡¹ç›®ï¼Œ å…¼å®¹ aws s3 / google cloud storage æ¥å£ï¼Œæ”¯æŒå¤šç£ç›˜ã€å¤šèŠ‚ç‚¹ï¼Œä¼¸ç¼©æ‰©å®¹æ–¹ä¾¿ï¼Œ golang ç¼–å†™+å•æ‰§è¡Œæ–‡ä»¶éƒ¨ç½²ï¼Œéå¸¸é€‚åˆç”¨ k8s ç¼–æ’å¤åˆ¶æ¥æ­å»ºç§æœ‰å¯¹è±¡å­˜å‚¨æœåŠ¡
æ²¡æœ‰ç”Ÿäº§ç¯å¢ƒçš„ä½¿ç”¨ç»éªŒï¼Œä»¥ä¸‹ä»…ç”¨äºä¸šä½™å°é²œ å…­ä¸€èŠ‚ç¤¼ç‰©
GNU/Linux ä¸‹è½½å®‰è£… wget https://dl.min.io/server/minio/release/linux-amd64/minio -O /usr/local/bin/minio chmod +x /user/local/bin/minio æ·»åŠ ç”¨æˆ·ã€ç»„å’Œé…ç½®æ–‡ä»¶ groupadd --system minio useradd --system --gid minio --shell /usr/sbin/nologin --comment &amp;#34;Minio file server&amp;#34; minio mkdir -p /data/minio chown -R minio:minio /data/minio # replace minio.service with your own config, eg. User,Group wget https://raw.githubusercontent.com/minio/minio-service/master/linux-systemd/minio.service -O /etc/systemd/system/minio.service é…ç½®ç«¯å£å’Œå¯†é’¥ # optional. run `uuidgen` to creates AK/SK cat &amp;lt;&amp;lt;EOF &amp;gt;&amp;gt; /tmp/minio MINIO_VOLUMES=&amp;#34;/data/minio/&amp;#34; MINIO_OPTS=&amp;#34;--address :9199&amp;#34; MINIO_ACCESS_KEY=`uuidgen` MINIO_SECRET_KEY=`uuidgen` EOF å¯åŠ¨æœåŠ¡ systemctl enable minio.</description></item><item><title>Pour Over Coffee Makers</title><link>http://y%C3%A1ny%C3%A0o.com/posts/pour-over-coffee-makers/</link><pubDate>Fri, 15 May 2020 15:41:01 +0800</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/pour-over-coffee-makers/</guid><description>åŠå…¬å®¤æ—¥å¸¸ç”¨å“ hario v60 2äººä»½ç»ç’ƒæ»¤æ¯ 1 hario v60 600ml äº‘æœµåˆ†äº«å£¶ 2 comandante c40 æ‰‹æ‘‡ç£¨è±†æœº 3 kalita 700ml ç»†å˜´å£¶ 4 rivers seek éšæ‰‹æ¯ 5 2020-0615 æ–°è´­å…¥ Mr.clever èªæ˜æ¯ 6 2020-0622 æ–°è´­å…¥ hario drip kettle air 7ï¼Œ ç”¨äº†ä¸¤æ¬¡æ‰‹æ„Ÿåè½»æ°´æµæ§åˆ¶å¾—ä¸ç¨³ T_T æ¯å¤©ä¸€æ—© ä¸­åˆ åˆ°å…¬å¸å¼€å§‹çƒ§æ°´ï¼Œç„¶åå­å‘²å­å‘²æ‘‡ 40g è±†å­å…‘ 600ml å·¦å³çš„æ°´
æ‰‹æ³•å°±æ¯”è¾ƒéšæ„äº†ï¼Œä¸»è¦å‚è€ƒä¸‹é¢ä¸¤ä¸ªè§†é¢‘ï¼Œå‡ºå“å¤§æ¦‚ç‡æˆ‘è‡ªå·±éƒ½è¿˜æŒºå–œæ¬¢çš„ æŒ‰æ¯”ä¾‹åŠ æ³¨æ°´é‡ç¿»å€
&amp;ldquo;4:6 method&amp;rdquo; by Tetsu Kasuya 8 &amp;ldquo;The Ultimate V60 Technique&amp;rdquo; by James Hoffmann å®¶åº­ç‰ˆ baratza encore ç”µåŠ¨ç£¨è±†å™¨ 9 kinto OCT 2äººä»½é™¶ç“·æ»¤æ¯ 10 ikea vardagen 500ml ç»ç’ƒé‡æ¯ 11 muji ä¸‡å¤çƒ§é©¬å…‹æ¯ 12 2020-0615 æ–°è´­å…¥ hario filter-in å†·èƒç“¶ 13 åˆšå¼€å§‹çš„æ—¶å€™è£…å¤‡ä¸Šäº¤äº†ä¸å°‘å­¦è´¹ï¼Œæ¯”å¦‚ï¼šç”µåŠ¨ç è±†æœºã€å»‰ä»·æ‰‹ç£¨ã€aeropressï¼Œ è™½ç„¶ä¸èƒ½ä¸€æ¦‚è€Œè®ºï¼Œå®é™…ä¸Šå¾ˆå¤§ç¨‹åº¦è¿˜æ˜¯éµå¾ªä¸€åˆ†é’±ä¸€åˆ†è´§çš„åŸåˆ™ï¼Œæ€§èƒ½è¶Šå¥½åˆ™ä»·æ ¼å‘ˆæŒ‡æ•°ä¸Šæ¶¨ æ¡ä»¶å…è®¸çš„è¯å°½é‡é€‰æ‹©å¥½ä¸€ç‚¹çš„è®¾å¤‡ï¼Œæ¯•ç«Ÿä¹Ÿæ˜¯å¤©å¤©è¦ç”¨çš„å®¶ä¼™äº‹</description></item><item><title>Mastodon</title><link>http://y%C3%A1ny%C3%A0o.com/posts/mastodon/</link><pubDate>Fri, 15 May 2020 09:45:08 +0800</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/mastodon/</guid><description>Mastodon é•¿æ¯›è±¡1 &amp;ndash; åŸºäº rubyonrails/reactjs/nodejs å¼€å‘çš„åˆ†å¸ƒå¼ &amp;amp; å»ä¸­å¿ƒåŒ– twiter cloneã€‚åˆ©ç”¨ç©ºé—²æ—¶é—´åœ¨ aws lightsail ä¸Šå¼€äº†ä¸ªå®ä¾‹æŠŠæœåŠ¡è·‘äº†èµ·æ¥
ä¸€å¼€å§‹èµ°äº†äº›å¼¯è·¯ï¼Œå› ä¸ºé€‰æœºæˆ¿å’Œçœé’±çš„ç¼˜æ•…ï¼Œé‡å»ºäº†è‹¥å¹²æ¬¡æ“ä½œç³»ç»Ÿï¼Œæœ€åçš„é€‰æ‹©æ˜¯ tokyo+cloudflareï¼Œæ²¡é”™æˆ‘åˆå¥—äº† cdnï¼Œå®åœ¨æ˜¯æµ·å¤–çº¿è·¯åˆ°åŒ—äº¬è”é€šä¸ç¨³å®š
å®‰è£…æ­¥éª¤æ²¡æœ‰ä½¿ç”¨ docker è€Œæ˜¯å‚è€ƒæ–‡æ¡£ä»æºç å®‰è£…2ï¼ŒåŸå› å’Œè§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š
æœºå™¨ç”¨ $3.5/mo 512mem æœ€ä¾¿å®œçš„é‚£æ¡£æ¶ˆè´¹é™çº§ï¼Œå‡ºäº net/io æ€§èƒ½è€ƒè™‘å°±ä¸ä½¿ docker å•¦
å†…å­˜é—®é¢˜ï¼ŒRAILS_ENV=production bundle exec rake mastodon:setup è¿™ä¸€æ­¥éª¤æ‰§è¡Œåˆ° rails assets:precompileï¼Œ ä¸ç®¡æ˜¯åœ¨ docker é‡Œè·‘è¿˜æ˜¯ç›´æ¥è¿è¡Œéƒ½ä¼šæŠ¥ swap åˆ†åŒºä¸è¶³ï¼Œæ‰¾åˆ°ä¸¤ä¸ªæ–¹æ¡ˆæ¥è§£å†³:
# create swapfile &amp;lt;https://linuxize.com/post/create-a-linux-swap-file/&amp;gt; $ sudo fallocate -l 2G /swapfile $ sudo chmod 600 /swapfile $ sudo mkswap /swapfile $ sudo swapon /swapfile # verify active $ sudo swapon --show # optional: low value is better for production $ sudo sysctl vm.</description></item><item><title>Gitlab Repo</title><link>http://y%C3%A1ny%C3%A0o.com/posts/gitlab-repo/</link><pubDate>Sat, 09 May 2020 19:34:06 +0800</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/gitlab-repo/</guid><description>gitlab é‡Œé¢å·²ç»æœ‰åæ¥ä¸ª groupï¼Œå‡ ç™¾ä¸ª projectï¼Œè™½ç„¶ä¸ä¸€å®šä¼šæ¯ä¸ªé¡¹ç›®éƒ½å‚ä¸ï¼Œ ä½†æ˜¯ä¸ºäº†å¿«é€ŸåŒæ­¥ä»£ç ï¼Œåˆæ¡èµ·äº† android å¼€å‘å¸¸ç”¨çš„ repo å‘½ä»¤æ¥ç®¡ç†å¤šé¡¹ç›®ä»£ç ã€‚ è¿™é‡Œä½¿ç”¨äº† gitlab graphql æ¥å£æ¥éå†é¡¹ç›®ç”Ÿæˆåˆ†ç»„çš„ manifest æ–‡ä»¶
#!/usr/bin/env python import argparse import json import os import urllib2 GITLAB_HOST = &amp;#34;gitlab.mydomain.com&amp;#34; GITLAB_SSH_URL = &amp;#34;ssh://git@&amp;#34; + GITLAB_HOST GITLAB_GRAPHQL_URL = &amp;#34;https://&amp;#34; + GITLAB_HOST + &amp;#34;/api/graphql&amp;#34; GITLAB_TOKEN = &amp;#34;&amp;#34; GITLAB_GROUP = [&amp;#34;&amp;#34;] BLACK_LIST = (&amp;#34;&amp;#34;,) # ä»¥ä¸Šé…ç½®ä¿®æ”¹ä¸ºè‡ªå·±çš„è®¾å®š template = &amp;#34;&amp;#34;&amp;#34;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt; &amp;lt;!-- autogen by gen.py, do not edit this file --&amp;gt; &amp;lt;manifest&amp;gt; &amp;lt;remote name=&amp;#34;origin&amp;#34; fetch=&amp;#34;{ssh_url}&amp;#34; /&amp;gt; &amp;lt;default revision=&amp;#34;master&amp;#34; remote=&amp;#34;origin&amp;#34; sync-c=&amp;#34;true&amp;#34; sync-j=&amp;#34;4&amp;#34; /&amp;gt; {content} &amp;lt;/manifest&amp;gt;&amp;#34;&amp;#34;&amp;#34; def write_file(content, filename=&amp;#34;default.</description></item><item><title>Dash Replacement with tmux</title><link>http://y%C3%A1ny%C3%A0o.com/posts/dash-replacement/</link><pubDate>Thu, 07 May 2020 18:54:37 +0800</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/dash-replacement/</guid><description>é€šè¿‡ tmux å¿«æ·é›†æˆæ›¿æ¢ dash.app æŸ¥è¯¢å¼€å‘æ–‡æ¡£
$ brew install dasht $ dasht-docsets | tr &amp;#39;A-Z&amp;#39; &amp;#39;a-z&amp;#39; go javascript python_3 rust tornado # tmux.conf quick start bind -n S-up command-prompt -p &amp;#39;docset:&amp;#39; &amp;#34;splitw -h -fb -l 80 dasht &amp;#39;%%&amp;#39;&amp;#34;</description></item><item><title>Cloudflare Gost</title><link>http://y%C3%A1ny%C3%A0o.com/posts/cloudflare-gost/</link><pubDate>Thu, 07 May 2020 16:00:01 +0800</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/cloudflare-gost/</guid><description>ä»æ¸…æ˜èŠ‚å¼€å§‹ï¼Œç¨³å®šè¿è¡Œå¥½å‡ å¹´çš„ ss æœåŠ¡å™¨ç»ˆäºé˜µäº¡äº†ï¼Œæ‰€æœ‰ç«¯å£å…¨æŒ‚ã€‚ä¸€ç›´è¹­å…¬å¸çš„ vpn æŸ¥èµ„æ–™ä¹ŸæŒºåˆ°äº†äº”ä¸€ï¼Œå®åœ¨æ‹–å»¶å¤Ÿå¤Ÿçš„å°±å†å¦å¤–å¼€äº†ä¸€å°æœºå™¨ä¸­è½¬è¿‡å»è¿ç§»æ•°æ®ï¼Œä¸è¿‡å˜›å¹´çºªå¤§äº†åˆå¼€å§‹çŠ¯æ‡’ï¼Œä¼å›¾æ‹¯æ•‘è·å¾—èµ„æ ¼è®¤è¯çš„æœºå™¨ï¼Œé€šè¿‡ä¸€ç•ªç½‘ä¸Šå†²æµªå­¦ä¹ åˆ°äº†ç›®å‰(å®æµ‹å¯ç”¨)èƒ½æ»¡è¶³æˆ‘éœ€æ±‚çš„æ–¹æ¡ˆã€‚ç®€å•æ¥è¯´å°±æ˜¯ï¼šcloudflare[åæ–‡ç®€ç§°ä¸º cf] + websockets over gostï¼Œå®é™…çš„å®¢æˆ·ç«¯é€šè¿‡ cdn ä»£ç†å†æ¥å…¥æœåŠ¡
æœ‰å‡ ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š
gost å¯åŠ¨æ—¶ç»‘å®šçš„ localhost ä¸ç›´æ¥å¯¹å¤–è®¿é—®ï¼Œèµ°äº† caddy çš„è½¬å‘ï¼Œè€Œè¿™ä¸€æ­¥å’Œ cf çš„ ssl è¯ä¹¦é…ç½®ä¼šé€ æˆä¸åœçš„é‡å®šå‘è·³è½¬ï¼Œéœ€è¦å°† cf åŠ å¯†æ¨¡å¼é…ç½®ä¸º flexible
ç„¶åä¿®æ”¹ caddy çš„åŸŸåé…ç½®ä¸º http://domain.com https://domain.com { &amp;hellip; } é˜»æ­¢ cf å’Œ caddy ä¹‹é—´çš„ http -&amp;gt; https
gost æœåŠ¡ç«¯ç›‘å¬ ws åè®®ï¼Œæœ¬åœ°çš„ gost å®¢æˆ·ç«¯è½¬å‘ wss åè®®è¿æ¥ cf_domain:443
éœ€è¦é‰´æƒçš„æ–¹æ¡ˆä½¿ç”¨ socks5+wss://username:password@domain:port
android å®¢æˆ·ç«¯çš„è®¾ç½®ï¼Œå› ä¸ºä½¿ç”¨äº† ws åè®®ï¼Œæ‰€ä»¥éœ€è¦å°†åŸŸåå†™å…¥åˆ°æ’ä»¶çš„é…ç½®é‡Œï¼Œç›´æ¥ç”¨åŸŸåå˜é‡æ— æ³•è§£æ
å…·ä½“é…ç½®å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œä¸€åˆ‡æµªè´¹çš„æ—¶é—´éƒ½æ˜¯æºäºæ²¡è®¤çœŸä»”ç»†çœ‹æ–‡æ¡£</description></item><item><title>webpack resolve local module</title><link>http://y%C3%A1ny%C3%A0o.com/posts/webpack-resolve-local-module/</link><pubDate>Fri, 13 Jan 2017 23:19:49 +0000</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/webpack-resolve-local-module/</guid><description>æœ€è¿‘çš„é¡¹ç›®åˆšå¼€å§‹ï¼Œè®¾è®¡çš„ç›®å½•å±‚çº§æœ‰ç‚¹æ·±
ç»å¸¸ä¼šåœ¨å¥½å‡ å±‚æœ¬åœ°è·¯å¾„ä¹‹é—´äº’ç›¸å¼•ç”¨
import Image from '../../../../components/image'
è¿™å±‚å±‚å å çš„è·¯å¾„å†™èµ·æ¥å®åœ¨ä¸‘é™‹
ä¸ç”±å¾—æƒ³èµ· Python ä»é¡¹ç›®æ ¹ç›®å½•å¼•ç”¨æ¨¡å—
ç„¶åç ”ç©¶äº†ä¸€ä¸‹ Node.js é‡Œçš„å‡ ç§ç®€æ˜“å®ç°
å¹²è„†åˆ©è½çš„è½¯è¿æ¥: ln -s node_modules src
ä¿®æ”¹ç¯å¢ƒå˜é‡: NODE_PATH=. node app
ä»æœ¬åœ°ç›®å½•å®‰è£…:
// package.json // éœ€è¦è¿è¡Œ npm install { &amp;#34;name&amp;#34;: &amp;#34;baz&amp;#34;, &amp;#34;dependencies&amp;#34;: { &amp;#34;foo&amp;#34;: &amp;#34;file: ./src&amp;#34;, } } å¦å¤–è¿˜æœ‰äº›ä¿®æ”¹ globalï¼Œæˆ–è€…å¼•å…¥å…¶ä»– require å®ç°çš„æ–¹æ³•å°±ä¸å†ä¸€ä¸€åˆ—å‡ºäº†
æœ€ç»ˆé€‰æ‹©çš„æ˜¯ä¿®æ”¹ webpack é…ç½®
// webpack.config.js resolve: { modulesDirectories: [__dirname, &amp;#39;node_modules&amp;#39;], } https://gist.github.com/branneman/8048520 http://stackoverflow.com/questions/10860244/how-to-make-the-require-in-node-js-to-be-always-relative-to-the-root-folder-of-t/41078266#41078266 https://webpack.github.io/docs/configuration.html#resolve-modulesdirectories</description></item><item><title>Leonard Cohen - you want it darker</title><link>http://y%C3%A1ny%C3%A0o.com/posts/leonard-cohen-you-want-it-darker/</link><pubDate>Tue, 25 Oct 2016 09:21:00 +0000</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/leonard-cohen-you-want-it-darker/</guid><description>å¹´åº¦æœ€ä½³
you want it darker
å¾ªç¯å¬äº†å¥½å‡ å¤©
å¹²å‡€ä½æ²‰çš„å—“éŸ³åŠ é…ä¹
æ„ˆå‘æ‹…å¿ƒä»¥åå¬ä¸åˆ°äº†æ€ä¹ˆåŠ ğŸ˜¢ï½</description></item><item><title>web audio</title><link>http://y%C3%A1ny%C3%A0o.com/posts/web-audio/</link><pubDate>Wed, 15 Jun 2016 14:34:08 +0000</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/web-audio/</guid><description>ç…§æ–‡æ¡£æ’¸äº†ä¸€ä¸‹ AudioContext å¯è§†åŒ–éŸ³é¢‘
æ¡Œé¢æµè§ˆå™¨ä¸Š Safari 9, Chrome stable ç»˜åˆ¶æ­£å¸¸
ç§»åŠ¨ç«¯åªæœ‰å¾®ä¿¡çš„ webview èƒ½å·¥ä½œ, çº¯ç©ç¥¨å» ref: https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Visualizations_with_Web_Audio_API
&amp;lt;!DOCTYPE html&amp;gt; &amp;lt;html&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta charset=&amp;#34;utf-8&amp;#34;&amp;gt; &amp;lt;meta name=&amp;#34;viewport&amp;#34; content=&amp;#34;width=device-width, user-scalable=no&amp;#34;&amp;gt; &amp;lt;title&amp;gt;AV&amp;lt;/title&amp;gt; &amp;lt;/head&amp;gt; &amp;lt;body&amp;gt; &amp;lt;canvas id=&amp;#34;vis&amp;#34;&amp;gt;&amp;lt;/canvas&amp;gt; &amp;lt;audio id=&amp;#34;av&amp;#34; src=&amp;#34;YOUR_AUDIO_FILE&amp;#34;&amp;gt;&amp;lt;/audio&amp;gt; &amp;lt;script src=&amp;#34;index.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; window.AudioContext = window.AudioContext || window.webkitAudioContext || window.mozAudioContext; window.onload = function(){ var canvas = document.getElementById(&amp;#39;vis&amp;#39;); var canvasCtx = canvas.getContext(&amp;#39;2d&amp;#39;); var isPlaying = true; var audio = document.getElementById(&amp;#39;av&amp;#39;); var audioCtx = new AudioContext(); var analyser = audioCtx.</description></item><item><title>move to caddy</title><link>http://y%C3%A1ny%C3%A0o.com/posts/move-to-caddy/</link><pubDate>Tue, 26 Apr 2016 06:41:13 +0000</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/move-to-caddy/</guid><description>å»å¹´ç”¨ Hexo æ­å»ºçš„æ—¥å¿—å·²ç»å¥½å‡ ä¸ªæœˆæ²¡æ›´æ–°äº†ï¼Œæœ€è¿‘ä¼‘å‡æœ‰ç‚¹ç©ºé—²å°±ç»§ç»­æ›´æ–°å§ã€‚
å…ˆä» Github è¿ç§»å›è‡ªå·±çš„ Linodeï¼Œç„¶åå®‰è£…ä¸€ä¸ª Caddyserver1 æ¥æ¸²æŸ“ markdown
Caddy is a unique web server with a modern feature set. Think nginx or Apache, but written in Go. With Caddy, you can serve your websites over HTTP/2. It can act as a reverse proxy and load balancer. Front your PHP apps with it. You can even deploy your site with git push. Cool, right?2
Download and install systemd wget -O &amp;#39;caddy.</description></item><item><title>mongodb backup</title><link>http://y%C3%A1ny%C3%A0o.com/posts/mongodb-backup/</link><pubDate>Tue, 22 Dec 2015 13:30:24 +0000</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/mongodb-backup/</guid><description>æœ‰å°æœºå™¨å‡†å¤‡2æœˆä»½ä¸‹æ¶ è®°ä¸€ä¸ª mongodb å¤‡ä»½å°è„šæœ¬ :)
#!/bin/bash # vim: set et sw=2 ts=2 sts=2 ff=unix fenc=utf8: MONGO_DATABASE=&amp;#34;_name_&amp;#34; MONGO_HOST=&amp;#34;_ip_&amp;#34; MONGO_PORT=&amp;#34;_prot_&amp;#34; TIMESTAMP=`date +%Y-%m-%dT%H:%M:%S` MONGODUMP_PATH=&amp;#34;/usr/bin/mongodump&amp;#34; BACKUPS_DIR=&amp;#34;/data/dumps/&amp;#34; BACKUP_NAME=&amp;#34;$MONGO_DATABASE-$TIMESTAMP&amp;#34; while test $# -gt 0 do case &amp;#34;$1&amp;#34; in -m) echo &amp;#34;backup mongthly and clear week_dir&amp;#34; #rm $BACKUPS_DIR&amp;#34;week/*&amp;#34; find $BACKUPS_DIR&amp;#34;week&amp;#34; -type f -name &amp;#39;*.tgz&amp;#39; -delete tar -czPf $BACKUPS_DIR&amp;#34;month/&amp;#34;$BACKUP_NAME.tgz $BACKUPS_DIR$MONGO_DATABASE ;; -w) echo &amp;#34;backup weekly&amp;#34; echo &amp;#34;tar -czPf $BACKUPS_DIR&amp;#34;week/&amp;#34;$BACKUP_NAME.tgz $BACKUPS_DIR$MONGO_DATABASE&amp;#34; ;; -d) echo &amp;#34;just dump&amp;#34; $MONGODUMP_PATH -d $MONGO_DATABASE --out $BACKUPS_DIR ;; *) echo &amp;#34;do nothing&amp;#34; ;; esac shift done # crontab -e 10 3 * * * /bin/bash $HOME/bin/mongobackup.</description></item><item><title>let's encrypt</title><link>http://y%C3%A1ny%C3%A0o.com/posts/let-s-encrypt/</link><pubDate>Mon, 14 Dec 2015 23:35:49 +0000</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/let-s-encrypt/</guid><description>Let&amp;rsquo;s Encrypt å·²ç»å…¬å¼€æµ‹è¯•ï¼Œä¸éœ€è¦å†æäº¤æµ‹è¯•åŸŸåè¡¨å•ï¼Œç›´æ¥å°±èƒ½ç”³è¯·
å°é¡¹ç›®ä»¥åéƒ½èƒ½ç”¨è¿™ç©æ„å¼€ https ä¸ç”¨èŠ±é’±ä¹°è¯ä¹¦å“¦å•¦å•¦
ç…§ æ–‡æ¡£ åšä¸€éç»™åŸŸåç­¾ä¸Šè¯ä¹¦è¿˜æŒºç®€å•çš„
# è·å–é¡¹ç›®ä»£ç  git clone https://github.com/letsencrypt/letsencrypt cd letsencrypt # å®‰è£…ä¾èµ– ./letsencrypt-auto # è·å–è¯ä¹¦ ./letsencrypt-auto certonly --standalone -d www.example.com -d example.com # é…ç½® nginx server { listen 443 ; ssl on; ssl_certificate_key /etc/letsencrypt/live/youdomain/privkey.pem; ssl_certificate /etc/letsencrypt/live/youdomain/fullchain.pem; } éœ€è¦æ³¨æ„çš„æ˜¯ dnspod ç­‰å›½å†…æœåŠ¡è§£æåŸŸåæœ‰é—®é¢˜
æˆ‘è¿™é‡Œç›´æ¥åˆ‡å› domains.google.com å°±è¡Œäº†
ä½¿ç”¨ standalone æ¨¡å¼éœ€è¦å…ˆåœæ‰é»˜è®¤çš„ nginx
æ–‡æ¡£é‡Œæåˆ°å¯ä»¥ä½¿ç”¨ webroot æ¨¡å¼ä¸ç”¨åœ ä½†æˆ‘åˆ›å»ºéªŒè¯æ–‡ä»¶å¤±è´¥äº† :(
é»˜è®¤90å¤©è¿‡æœŸï¼Œå»ºè®® crontab å®šæ—¶æ›´æ–°
###Update
ä½¿ç”¨ acme.sh
An ACME protocol client written purely in Shell (Unix shell) language.</description></item><item><title>simple crawler</title><link>http://y%C3%A1ny%C3%A0o.com/posts/simple-nodejs-crawler/</link><pubDate>Sat, 17 Oct 2015 12:06:21 +0000</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/simple-nodejs-crawler/</guid><description>åŠå¤œçœ‹äº†æœ¬å°è¯´è§‰å¾—ç¿»é¡µå¤ªç´¯
é¦–å…ˆè¦è§£å†³çš„é—®é¢˜æ˜¯æ‰¾ä¸€ä¸ªè´¨é‡è¿˜è¿‡å¾—å»çš„å°è¯´ç«™ ç„¶åå†™ä¸ªè„šæœ¬å»æŠŠå®ƒçˆ¬ä¸‹æ¥ç« èŠ‚åˆå¹¶åˆ°ä¸€èµ·
import fs from &amp;#34;fs&amp;#34;; import { argv } from &amp;#34;process&amp;#34;; import request from &amp;#34;request&amp;#34;; import cheerio from &amp;#34;cheerio&amp;#34;; import iconv from &amp;#34;iconv-lite&amp;#34;; import sanitize from &amp;#39;sanitize-html&amp;#39;; class main { constructor() { Object.assign(this, { path: &amp;#39;./chapter.json&amp;#39;, html: &amp;#39;./reader.html&amp;#39;, url: { list: &amp;#39;http://www.piaotian.net/html/6/6658/&amp;#39; }, store: [] }) } fetch(url, callback) { request.get(url, {encoding: null}, (error, response, body)=&amp;gt; { if (!error &amp;amp;&amp;amp; response.statusCode == 200) { let $ = cheerio.load(iconv.decode(body, &amp;#39;GBK&amp;#39;)); callback($, body); } else { console.</description></item><item><title>send notification when task finish</title><link>http://y%C3%A1ny%C3%A0o.com/posts/send-notification-after-task-end/</link><pubDate>Sun, 11 Oct 2015 00:38:23 +0000</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/send-notification-after-task-end/</guid><description>ç»ˆç«¯é‡Œè¿è¡Œé•¿æ—¶é—´ä»»åŠ¡(æ¯”å¦‚ make systemimage)çš„æ—¶å€™ç»å¸¸ä¼šåˆ‡æ¢åˆ°å…¶ä»–ç¯å¢ƒåšåˆ«çš„äº‹æƒ… å®¹æ˜“å¿˜è®°æŸ¥çœ‹ä¹‹å‰çš„ä»»åŠ¡æ˜¯å¦å®Œæˆ, æŸ¥åˆ°ä¸€äº›æ–¹æ³•ç”¨åœ¨ä»»åŠ¡ç»“æŸæ—¶å‘å‡ºé€šçŸ¥
#C-z åˆ‡åˆ°åå°è¿è¡Œ fg; tput bel # Mac OS X #ç³»ç»Ÿå¼¹çª— osascript -e &amp;#39;tell app &amp;#34;System Events&amp;#34; to display alert &amp;#34;Build Completed&amp;#34; message &amp;#34;The checkout and build have completed.&amp;#34;&amp;#39; say &amp;#34;Job finished&amp;#34; #è¯­éŸ³æ’­æŠ¥ #notification center osascript -e &amp;#39;display notification &amp;#34;Job finished&amp;#34; with title &amp;#34;Alert&amp;#34;&amp;#39; sudo gem install terminal-notifier terminal-notifier -message &amp;#34;Job finished!&amp;#34; -title &amp;#34;Alert&amp;#34; # Ubuntu notify-send &amp;#34;Job finished!&amp;#34; # KDE kdialog --passivepopup &amp;#39;Job finished&amp;#39; è¿˜æœ‰ iterm2 trigger ä¹Ÿèƒ½ç”¨æ¥è§¦å‘é€šçŸ¥, é«˜äº®æ–‡å­—</description></item><item><title>create CNAME with internationalized domain name</title><link>http://y%C3%A1ny%C3%A0o.com/posts/cname-with-yanyao-com/</link><pubDate>Sun, 04 Oct 2015 20:52:56 +0000</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/cname-with-yanyao-com/</guid><description>å‰æ®µæ—¶é—´ä¹°äº†ä¸ª idn: yÃ¡nyÃ o.com é—²ç½®äº†å¾ˆé•¿æ—¶é—´æ²¡åŠ¨ è¶ç€åä¸€é•¿å‡æ— æ‰€äº‹äº‹çš„æœºä¼š, æŠŠç©äº†ä¸€ä¸‹ hexo æŒ‚åˆ° yanyaoer.github.io
ç„¶å CNAME çš„æ—¶å€™æ‰å‘äº†, çœ‹åˆ°æœ‰äººè¯´30åˆ†é’Ÿç”Ÿæ•ˆå‚»å‚»ç­‰å°±ä¸æäº† å®é™…ä¸Šè¿™ä¸ªåŸŸåçš„ CNAME å†…å®¹åº”è¯¥ç”¨ç¼–ç åçš„å­—ç¬¦ä¸²è€Œä¸æ˜¯ yÃ¡nyÃ o.com
https://github.com/yanyaoer/yanyaoer.github.io/commit/7c0e4e6863904442d368e3ad5c822f8f189bb7fc#diff-adc4bfdb0829dae99e3699393e3fbaa4
diff --git a/CNAME b/CNAME index 6cb647c..92d166c 100644 --- a/CNAME +++ b/CNAME @@ -1 +1 @@ -yÃ¡nyÃ o.com +xn--ynyo-2nad.com</description></item><item><title>xtag-and-shadowdom</title><link>http://y%C3%A1ny%C3%A0o.com/posts/xtag-and-shadowdom/</link><pubDate>Sun, 04 Oct 2015 12:20:52 +0000</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/xtag-and-shadowdom/</guid><description>æœ€è¿‘åœ¨åšçš„é¡¹ç›®é‡æ„, åŸæœ¬æ‰“ç®—ç”¨ reactjs, å†™äº†ä¸€äº›å®éªŒä»£ç åå¿ƒç´¯æ— çˆ± æ‰¾äº†ä¸ª domdiff é…åˆè‡ªå®šä¹‰æ ‡ç­¾å’Œ shadowdom çš„ç‹¬æœ‰ä½œç”¨åŸŸä¹Ÿæ˜¯çˆ½ YY
å¯æƒœçš„æ˜¯æµ‹è¯•çº¢ç±³ä¸Šçš„ android webview ç‰ˆæœ¬(32?)ä¸æ”¯æŒ ::shadow ä¼ªç±» inline æ–¹å¼è¦†ç›–æ ·å¼ç•¥å«Œç¹ç
ç¤ºä¾‹ä»£ç  xtag.js let dom = { shadow(el) { return el.createShadowRoot ? el.createShadowRoot() : el.webkitCreateShadowRoot(); }, attr(el, prefix=&amp;#39;&amp;#39;) { return Object.keys(el.dataset).map((d)=&amp;gt; `${prefix}${d}=&amp;#34;${el.dataset[d]}&amp;#34;`).join(&amp;#39; &amp;#39;) } } document.registerElement(&amp;#39;x-image&amp;#39;, { prototype: Object.create(HTMLElement.prototype, { createdCallback: { value() { //xtag åµŒå¥—æ—¶è¿™é‡Œè¯»ä¸åˆ°attr, æ”¾åˆ° attach console.log(&amp;#39;onCreate::image&amp;#39;); } }, attachedCallback: { value() { console.log(&amp;#39;onAttach::image&amp;#39;); let shadow = dom.shadow(this); shadow.innerHTML = `&amp;lt;style&amp;gt; img { max-width: 100%; } &amp;lt;/style&amp;gt; &amp;lt;img ${dom.</description></item><item><title>remote pbcopy with netcat</title><link>http://y%C3%A1ny%C3%A0o.com/posts/remote-pbcopy-with-netcat/</link><pubDate>Tue, 20 Jan 2015 11:45:53 +0000</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/remote-pbcopy-with-netcat/</guid><description>Quick start while (true); do nc -l 2224 | pbcopy; done #If your laptop is running linux, replacing pbcopy with xcopy should work: #while (true); do nc -l 2224 | xcopy; done echo &amp;#34;This text gets sent to clipboard&amp;#34; | nc localhost 2224 echo &amp;#34;RemoteForward 2224 localhost:2224&amp;#34; &amp;gt;&amp;gt; ~/.ssh/config ssh remote -t &amp;#39;cat blablabla | nc -q0 localhost 2224&amp;#39; Daemonizing pbcopy launchctl load ~/Library/LaunchAgents/local.pbcopy.plist
&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt; &amp;lt;!DOCTYPE plist PUBLIC &amp;#34;-//Apple Computer//DTD PLIST 1.</description></item><item><title>forward email by postfix</title><link>http://y%C3%A1ny%C3%A0o.com/posts/postfix-forward-mail/</link><pubDate>Mon, 06 Oct 2014 01:25:06 +0000</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/postfix-forward-mail/</guid><description>sudo aptitude install postfix hostname -f # sudo vim /etc/postfix/main.cf myhostname = example.com myorigin = example.com mydestination = example1.com, example2.com, ... virtual_alias_maps = hash:/etc/postfix/virtual # sudo vim /etc/postfix/virtual @example1.com name@forward.com @example2.com name@forward.com sudo postmap /etc/postfix/virtual sudo /etc/init.d/postfix reload https://wiki.debian.org/Postfix#Forward_Emails
https://www.linode.com/docs/email/postfix/basic-postfix-email-gateway-on-debian-6-squeeze
https://www.debian-administration.org/article/243/Handling_mail_for_multiple_virtual_domains_with_postfix</description></item><item><title>mitmproxy</title><link>http://y%C3%A1ny%C3%A0o.com/posts/mitmproxy/</link><pubDate>Wed, 20 Aug 2014 12:05:38 +0000</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/mitmproxy/</guid><description>mitmproxy æ˜¯ä¸ªå‘½ä»¤è¡Œä¸‹æŸ¥çœ‹/ä¿®æ”¹ http è¯·æ±‚çš„äº¤äº’å¼å·¥å…·
#æˆªå›¾ #å®‰è£…
sudo apt-get install python-dev libffi-dev pip install mitmproxy #ä½¿ç”¨
ubuntu ä¸Šå¯åŠ¨ mitmproxy
mitmproxy &amp;ndash;host
æ‰‹æœº è®¾ç½® -&amp;gt; WLAN -&amp;gt; ä»£ç†
ä¸»æœºå: ubuntu çš„ ip
ç«¯å£: 8080
ç„¶åè®¿é—®ç½‘ç»œå°±ä¼šåœ¨ mitmproxy é‡Œçœ‹åˆ°è¯·æ±‚è®°å½•(å¦‚æˆªå›¾)
#å¿«æ·é”®
j,k ä¸Šä¸‹ç§»åŠ¨
enter è¿›å…¥
tab åˆ‡æ¢ request/response
#å‚è€ƒ http://mitmproxy.org/doc/mitmproxy.html
http://blog.philippheckel.com/2013/07/01/how-to-use-mitmproxy-to-read-and-modify-https-traffic-of-your-phone/</description></item><item><title>brick intro</title><link>http://y%C3%A1ny%C3%A0o.com/posts/brick-intro/</link><pubDate>Wed, 28 Aug 2013 10:47:17 +0000</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/brick-intro/</guid><description>#Introducing Brick: Minimal-markup Web Components for Faster App Development #ä»‹ç» brick: ç”¨äºå¿«é€Ÿå¼€å‘ webapp çš„è‡ªå®šä¹‰æ ‡ç­¾ç»„ä»¶
https://hacks.mozilla.org/2013/08/introducing-brick-minimal-markup-web-components-for-faster-app-development/
Those of you on the cutting HTML5 edge may have already heard of the exciting Web Components specification. If you havenâ€™t, youâ€™ll probably want to read up on what makes this so exciting, but long story short, Web Components promise to open up a new realm of development by letting web developers write custom, reusable HTML tags.</description></item><item><title>my osx setup</title><link>http://y%C3%A1ny%C3%A0o.com/posts/my-osx-setup/</link><pubDate>Sun, 09 Jun 2013 12:05:50 +0000</pubDate><guid>http://y%C3%A1ny%C3%A0o.com/posts/my-osx-setup/</guid><description>#setting
# Enable full keyboard access for all controls defaults write NSGlobalDomain AppleKeyboardUIMode -int 3 # Disable menu bar transparency defaults write NSGlobalDomain AppleEnableMenuBarTransparency -bool false # Allow quitting Finder via âŒ˜ + Q; doing so will also hide desktop icons defaults write com.apple.finder QuitMenuItem -bool true # Avoid creating .DS_Store files on network volumes defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool true # Disable the warning when changing a file extension defaults write com.</description></item></channel></rss>