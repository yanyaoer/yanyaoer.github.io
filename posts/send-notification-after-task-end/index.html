<!doctype html><html lang=en-US dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>send notification when task finish | yányào.com</title>
<link rel=stylesheet href=/css/main.min.8e8195eddcd5aefb03915f2af14e3db65c508a85859da96a19e43823f3c590fd.css integrity="sha256-joGV7dzVrvsDkV8q8U49tlxQioWFnalqGeQ4I/PFkP0=" crossorigin=anonymous></head><body><header><header><a href=https://xn--ynyo-2nad.com/ class=title><h2>yányào.com</h2></a><nav><a href=/>Home</a>
<a href=/posts>Posts</a>
<a href=/index.xml>RSS</a></nav></header><main><h1>send notification when task finish</h1><time datetime=2015-10-11T00:38:23+00:00>October 11, 2015</time><p>终端里运行长时间任务(比如 <code>make systemimage</code>)的时候经常会切换到其他环境做别的事情
容易忘记查看之前的任务是否完成, 查到一些方法用在任务结束时发出通知</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#C-z 切到后台运行</span>
</span></span><span style=display:flex><span>fg; tput bel
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Mac OS X</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#系统弹窗</span>
</span></span><span style=display:flex><span>osascript -e <span style=color:#e6db74>&#39;tell app &#34;System Events&#34; to display alert &#34;Build Completed&#34; message &#34;The checkout and build have completed.&#34;&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>say <span style=color:#e6db74>&#34;Job finished&#34;</span> <span style=color:#75715e>#语音播报</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#notification center</span>
</span></span><span style=display:flex><span>osascript -e <span style=color:#e6db74>&#39;display notification &#34;Job finished&#34; with title &#34;Alert&#34;&#39;</span>
</span></span><span style=display:flex><span>sudo gem install terminal-notifier
</span></span><span style=display:flex><span>terminal-notifier -message <span style=color:#e6db74>&#34;Job finished!&#34;</span> -title <span style=color:#e6db74>&#34;Alert&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Ubuntu</span>
</span></span><span style=display:flex><span>notify-send <span style=color:#e6db74>&#34;Job finished!&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># KDE</span>
</span></span><span style=display:flex><span>kdialog --passivepopup <span style=color:#e6db74>&#39;Job finished&#39;</span>
</span></span></code></pre></div><p>还有 <a href=https://iterm2.com/documentation-triggers.html>iterm2 trigger</a> 也能用来触发通知, 高亮文字</p><h2 id=links>links</h2><p><a href=http://apple.stackexchange.com/questions/9412/how-to-get-a-notification-when-my-commands-are-done>http://apple.stackexchange.com/questions/9412/how-to-get-a-notification-when-my-commands-are-done</a>
<a href=http://superuser.com/questions/345447/how-can-i-trigger-a-notification-when-a-job-process-ends>http://superuser.com/questions/345447/how-can-i-trigger-a-notification-when-a-job-process-ends</a></p><div><div>Tags:</div><ul><li><a href=/blog/tips/>Tips</a></li><li><a href=/blog/notify/>Notify</a></li></ul></div></main><footer><p>Copyright 2025. All rights reserved.</p></footer></body></html>