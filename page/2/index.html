<!doctype html><html><head><meta name=generator content="Hugo 0.68.3"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>yÃ¡nyÃ o.com</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=alternate type=application/rss+xml href=http://y%C3%A1ny%C3%A0o.com/index.xml title=yÃ¡nyÃ o.com><meta property="og:title" content="yÃ¡nyÃ o.com"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="http://y%C3%A1ny%C3%A0o.com/"><meta property="og:updated_time" content="2020-07-02T22:55:53+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="yÃ¡nyÃ o.com"><meta name=twitter:description content><link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=http://y%C3%A1ny%C3%A0o.com/css/normalize.css><link rel=stylesheet type=text/css media=screen href=http://y%C3%A1ny%C3%A0o.com/css/main.css><script src=http://y%C3%A1ny%C3%A0o.com/js/main.js></script></head><body><div class="container wrapper"><div class=header><h1 class=site-title><a href=http://y%C3%A1ny%C3%A0o.com/>yÃ¡nyÃ o.com</a></h1><div class=site-description><nav class="nav social"><ul class=flat></ul></nav></div><nav class=nav><ul class=flat></ul></nav></div><div class="recent-posts section"><h2 class=section-header>Recent posts</h2><div class=posts><div class=post><div class=meta>Oct 25, 2016</div><a class=title href=/posts/leonard-cohen-you-want-it-darker/>Leonard Cohen - you want it darker</a> &mdash;
<span class=description>å¹´åº¦æœ€ä½³
you want it darker
å¾ªç¯å¬äº†å¥½å‡ å¤©
å¹²å‡€ä½æ²‰çš„å—“éŸ³åŠ é…ä¹
æ„ˆå‘æ‹…å¿ƒä»¥åå¬ä¸åˆ°äº†æ€ä¹ˆåŠ ğŸ˜¢ï½&mldr;</span></div><div class=post><div class=meta>Jun 15, 2016</div><a class=title href=/posts/web-audio/>web audio</a> &mdash;
<span class=description>ç…§æ–‡æ¡£æ’¸äº†ä¸€ä¸‹ AudioContext å¯è§†åŒ–éŸ³é¢‘
æ¡Œé¢æµè§ˆå™¨ä¸Š Safari 9, Chrome stable ç»˜åˆ¶æ­£å¸¸
ç§»åŠ¨ç«¯åªæœ‰å¾®ä¿¡çš„ webview èƒ½å·¥ä½œ, çº¯ç©ç¥¨å» ref: https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Visualizations_with_Web_Audio_API
&lt;!DOCTYPE html> &lt;html> &lt;head> &lt;meta charset="utf-8"> &lt;meta name="viewport" content="width=device-width, user-scalable=no"> &lt;title>AV&lt;/title> &lt;/head> &lt;body> &lt;canvas id="vis">&lt;/canvas> &lt;audio id="av" src="YOUR_AUDIO_FILE">&lt;/audio> &lt;script src="index.js">&lt;/script> &lt;/body> &lt;/html> window.AudioContext = window.AudioContext || window.webkitAudioContext || window.mozAudioContext; window.onload = function(){ var canvas = document.getElementById('vis'); var canvasCtx = canvas.getContext('2d'); var isPlaying = true; var audio = document.getElementById('av'); var audioCtx = new AudioContext(); var analyser = audioCtx.&mldr;</span></div><div class=post><div class=meta>Apr 26, 2016</div><a class=title href=/posts/move-to-caddy/>move to caddy</a> &mdash;
<span class=description>å»å¹´ç”¨ Hexo æ­å»ºçš„æ—¥å¿—å·²ç»å¥½å‡ ä¸ªæœˆæ²¡æ›´æ–°äº†ï¼Œæœ€è¿‘ä¼‘å‡æœ‰ç‚¹ç©ºé—²å°±ç»§ç»­æ›´æ–°å§ã€‚
å…ˆä» Github è¿ç§»å›è‡ªå·±çš„ Linodeï¼Œç„¶åå®‰è£…ä¸€ä¸ª Caddyserver1 æ¥æ¸²æŸ“ markdown
Caddy is a unique web server with a modern feature set. Think nginx or Apache, but written in Go. With Caddy, you can serve your websites over HTTP/2. It can act as a reverse proxy and load balancer. Front your PHP apps with it. You can even deploy your site with git push. Cool, right?2
Download and install systemd wget -O 'caddy.&mldr;</span></div><div class=post><div class=meta>Dec 22, 2015</div><a class=title href=/posts/mongodb-backup/>mongodb backup</a> &mdash;
<span class=description>æœ‰å°æœºå™¨å‡†å¤‡2æœˆä»½ä¸‹æ¶ è®°ä¸€ä¸ª mongodb å¤‡ä»½å°è„šæœ¬ :)
#!/bin/bash # vim: set et sw=2 ts=2 sts=2 ff=unix fenc=utf8: MONGO_DATABASE="_name_" MONGO_HOST="_ip_" MONGO_PORT="_prot_" TIMESTAMP=`date +%Y-%m-%dT%H:%M:%S` MONGODUMP_PATH="/usr/bin/mongodump" BACKUPS_DIR="/data/dumps/" BACKUP_NAME="$MONGO_DATABASE-$TIMESTAMP" while test $# -gt 0 do case "$1" in -m) echo "backup mongthly and clear week_dir" #rm $BACKUPS_DIR"week/*" find $BACKUPS_DIR"week" -type f -name '*.tgz' -delete tar -czPf $BACKUPS_DIR"month/"$BACKUP_NAME.tgz $BACKUPS_DIR$MONGO_DATABASE ;; -w) echo "backup weekly" echo "tar -czPf $BACKUPS_DIR"week/"$BACKUP_NAME.tgz $BACKUPS_DIR$MONGO_DATABASE" ;; -d) echo "just dump" $MONGODUMP_PATH -d $MONGO_DATABASE --out $BACKUPS_DIR ;; *) echo "do nothing" ;; esac shift done # crontab -e 10 3 * * * /bin/bash $HOME/bin/mongobackup.&mldr;</span></div><div class=post><div class=meta>Dec 14, 2015</div><a class=title href=/posts/let-s-encrypt/>let's encrypt</a> &mdash;
<span class=description>Let&rsquo;s Encrypt å·²ç»å…¬å¼€æµ‹è¯•ï¼Œä¸éœ€è¦å†æäº¤æµ‹è¯•åŸŸåè¡¨å•ï¼Œç›´æ¥å°±èƒ½ç”³è¯·
å°é¡¹ç›®ä»¥åéƒ½èƒ½ç”¨è¿™ç©æ„å¼€ https ä¸ç”¨èŠ±é’±ä¹°è¯ä¹¦å“¦å•¦å•¦
ç…§ æ–‡æ¡£ åšä¸€éç»™åŸŸåç­¾ä¸Šè¯ä¹¦è¿˜æŒºç®€å•çš„
# è·å–é¡¹ç›®ä»£ç  git clone https://github.com/letsencrypt/letsencrypt cd letsencrypt # å®‰è£…ä¾èµ– ./letsencrypt-auto # è·å–è¯ä¹¦ ./letsencrypt-auto certonly --standalone -d www.example.com -d example.com # é…ç½® nginx server { listen 443 ; ssl on; ssl_certificate_key /etc/letsencrypt/live/youdomain/privkey.pem; ssl_certificate /etc/letsencrypt/live/youdomain/fullchain.pem; } éœ€è¦æ³¨æ„çš„æ˜¯ dnspod ç­‰å›½å†…æœåŠ¡è§£æåŸŸåæœ‰é—®é¢˜
æˆ‘è¿™é‡Œç›´æ¥åˆ‡å› domains.google.com å°±è¡Œäº†
ä½¿ç”¨ standalone æ¨¡å¼éœ€è¦å…ˆåœæ‰é»˜è®¤çš„ nginx
æ–‡æ¡£é‡Œæåˆ°å¯ä»¥ä½¿ç”¨ webroot æ¨¡å¼ä¸ç”¨åœ ä½†æˆ‘åˆ›å»ºéªŒè¯æ–‡ä»¶å¤±è´¥äº† :(
é»˜è®¤90å¤©è¿‡æœŸï¼Œå»ºè®® crontab å®šæ—¶æ›´æ–°
###Update
ä½¿ç”¨ acme.sh
An ACME protocol client written purely in Shell (Unix shell) language.&mldr;</span></div><div class=post><div class=meta>Oct 17, 2015</div><a class=title href=/posts/simple-nodejs-crawler/>simple crawler</a> &mdash;
<span class=description>åŠå¤œçœ‹äº†æœ¬å°è¯´è§‰å¾—ç¿»é¡µå¤ªç´¯
é¦–å…ˆè¦è§£å†³çš„é—®é¢˜æ˜¯æ‰¾ä¸€ä¸ªè´¨é‡è¿˜è¿‡å¾—å»çš„å°è¯´ç«™ ç„¶åå†™ä¸ªè„šæœ¬å»æŠŠå®ƒçˆ¬ä¸‹æ¥ç« èŠ‚åˆå¹¶åˆ°ä¸€èµ·
import fs from "fs"; import { argv } from "process"; import request from "request"; import cheerio from "cheerio"; import iconv from "iconv-lite"; import sanitize from 'sanitize-html'; class main { constructor() { Object.assign(this, { path: './chapter.json', html: './reader.html', url: { list: 'http://www.piaotian.net/html/6/6658/' }, store: [] }) } fetch(url, callback) { request.get(url, {encoding: null}, (error, response, body)=> { if (!error && response.statusCode == 200) { let $ = cheerio.load(iconv.decode(body, 'GBK')); callback($, body); } else { console.&mldr;</span></div><div class=post><div class=meta>Oct 11, 2015</div><a class=title href=/posts/send-notification-after-task-end/>send notification when task finish</a> &mdash;
<span class=description>ç»ˆç«¯é‡Œè¿è¡Œé•¿æ—¶é—´ä»»åŠ¡(æ¯”å¦‚ make systemimage)çš„æ—¶å€™ç»å¸¸ä¼šåˆ‡æ¢åˆ°å…¶ä»–ç¯å¢ƒåšåˆ«çš„äº‹æƒ… å®¹æ˜“å¿˜è®°æŸ¥çœ‹ä¹‹å‰çš„ä»»åŠ¡æ˜¯å¦å®Œæˆ, æŸ¥åˆ°ä¸€äº›æ–¹æ³•ç”¨åœ¨ä»»åŠ¡ç»“æŸæ—¶å‘å‡ºé€šçŸ¥
#C-z åˆ‡åˆ°åå°è¿è¡Œ fg; tput bel # Mac OS X #ç³»ç»Ÿå¼¹çª— osascript -e 'tell app "System Events" to display alert "Build Completed" message "The checkout and build have completed."' say "Job finished" #è¯­éŸ³æ’­æŠ¥ #notification center osascript -e 'display notification "Job finished" with title "Alert"' sudo gem install terminal-notifier terminal-notifier -message "Job finished!" -title "Alert" # Ubuntu notify-send "Job finished!" # KDE kdialog --passivepopup 'Job finished' è¿˜æœ‰ iterm2 trigger ä¹Ÿèƒ½ç”¨æ¥è§¦å‘é€šçŸ¥, é«˜äº®æ–‡å­—&mldr;</span></div><div class=post><div class=meta>Oct 4, 2015</div><a class=title href=/posts/cname-with-yanyao-com/>create CNAME with internationalized domain name</a> &mdash;
<span class=description>å‰æ®µæ—¶é—´ä¹°äº†ä¸ª idn: yÃ¡nyÃ o.com é—²ç½®äº†å¾ˆé•¿æ—¶é—´æ²¡åŠ¨ è¶ç€åä¸€é•¿å‡æ— æ‰€äº‹äº‹çš„æœºä¼š, æŠŠç©äº†ä¸€ä¸‹ hexo æŒ‚åˆ° yanyaoer.github.io
ç„¶å CNAME çš„æ—¶å€™æ‰å‘äº†, çœ‹åˆ°æœ‰äººè¯´30åˆ†é’Ÿç”Ÿæ•ˆå‚»å‚»ç­‰å°±ä¸æäº† å®é™…ä¸Šè¿™ä¸ªåŸŸåçš„ CNAME å†…å®¹åº”è¯¥ç”¨ç¼–ç åçš„å­—ç¬¦ä¸²è€Œä¸æ˜¯ yÃ¡nyÃ o.com
https://github.com/yanyaoer/yanyaoer.github.io/commit/7c0e4e6863904442d368e3ad5c822f8f189bb7fc#diff-adc4bfdb0829dae99e3699393e3fbaa4
diff --git a/CNAME b/CNAME index 6cb647c..92d166c 100644 --- a/CNAME +++ b/CNAME @@ -1 +1 @@ -yÃ¡nyÃ o.com +xn--ynyo-2nad.com &mldr;</span></div><div class=post><div class=meta>Oct 4, 2015</div><a class=title href=/posts/xtag-and-shadowdom/>xtag-and-shadowdom</a> &mdash;
<span class=description>æœ€è¿‘åœ¨åšçš„é¡¹ç›®é‡æ„, åŸæœ¬æ‰“ç®—ç”¨ reactjs, å†™äº†ä¸€äº›å®éªŒä»£ç åå¿ƒç´¯æ— çˆ± æ‰¾äº†ä¸ª domdiff é…åˆè‡ªå®šä¹‰æ ‡ç­¾å’Œ shadowdom çš„ç‹¬æœ‰ä½œç”¨åŸŸä¹Ÿæ˜¯çˆ½ YY
å¯æƒœçš„æ˜¯æµ‹è¯•çº¢ç±³ä¸Šçš„ android webview ç‰ˆæœ¬(32?)ä¸æ”¯æŒ ::shadow ä¼ªç±» inline æ–¹å¼è¦†ç›–æ ·å¼ç•¥å«Œç¹ç
ç¤ºä¾‹ä»£ç  xtag.js let dom = { shadow(el) { return el.createShadowRoot ? el.createShadowRoot() : el.webkitCreateShadowRoot(); }, attr(el, prefix='') { return Object.keys(el.dataset).map((d)=> `${prefix}${d}="${el.dataset[d]}"`).join(' ') } } document.registerElement('x-image', { prototype: Object.create(HTMLElement.prototype, { createdCallback: { value() { //xtag åµŒå¥—æ—¶è¿™é‡Œè¯»ä¸åˆ°attr, æ”¾åˆ° attach console.log('onCreate::image'); } }, attachedCallback: { value() { console.log('onAttach::image'); let shadow = dom.shadow(this); shadow.innerHTML = `&lt;style> img { max-width: 100%; } &lt;/style> &lt;img ${dom.&mldr;</span></div><div class=post><div class=meta>Jan 20, 2015</div><a class=title href=/posts/remote-pbcopy-with-netcat/>remote pbcopy with netcat</a> &mdash;
<span class=description>Quick start while (true); do nc -l 2224 | pbcopy; done #If your laptop is running linux, replacing pbcopy with xcopy should work: #while (true); do nc -l 2224 | xcopy; done echo "This text gets sent to clipboard" | nc localhost 2224 echo "RemoteForward 2224 localhost:2224" >> ~/.ssh/config ssh remote -t 'cat blablabla | nc -q0 localhost 2224' Daemonizing pbcopy launchctl load ~/Library/LaunchAgents/local.pbcopy.plist
&lt;?xml version="1.0" encoding="UTF-8"?> &lt;!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.&mldr;</span></div><ul class=pagination><li class="page-item page-prev"><a href=/ class=page-link aria-label=Previous><span aria-hidden=true>â† Prev page</span></a></li><li class="page-item page-next"><a href=/page/3/ class=page-link aria-label=Next><span aria-hidden=true>Next page â†’</span></a></li></ul></div></div></div><div class="footer wrapper"><nav class=nav><div><a href=https://github.com/vividvilla/ezhil>Ezhil theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></nav></div></body></html>