<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>yÃ¡nyÃ o.com | Home </title><link rel=icon type=image/png href=#ZgotmplZ><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta property="og:image" content><link rel=alternate type=application/rss+xml href=https://xn--ynyo-2nad.com/index.xml title=yÃ¡nyÃ o.com><meta property="og:url" content="https://xn--ynyo-2nad.com/"><meta property="og:site_name" content="yÃ¡nyÃ o.com"><meta property="og:title" content="yÃ¡nyÃ o.com"><meta property="og:locale" content="en_us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="yÃ¡nyÃ o.com"><script src=https://xn--ynyo-2nad.com/js/feather.min.js></script><link href=https://xn--ynyo-2nad.com/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://xn--ynyo-2nad.com/css/main.5cebd7d4fb2b97856af8d32a6def16164fcf7d844e98e236fcb3559655020373.css></head><body><div class=content><header><div class=main><a href=https://xn--ynyo-2nad.com/>yÃ¡nyÃ o.com</a></div><nav><a href=/>Home</a>
<a href=/posts>Posts</a>
<a href=/tags>Tags</a></nav></header><main class=list><div class=site-description><p>looking a wood sprite in the forest</p></div><section class=list-item><h1 class=title><a href=/posts/pour-over-coffee-makers/>Pour Over Coffee Makers</a></h1><time>May 15, 2020</time><br><div class=description><h2 id=åŠå…¬å®¤æ—¥å¸¸ç”¨å“>åŠå…¬å®¤æ—¥å¸¸ç”¨å“</h2><ul><li>hario v60 2äººä»½ç»ç’ƒæ»¤æ¯ <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></li><li>hario v60 600ml äº‘æœµåˆ†äº«å£¶ <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></li><li>comandante c40 æ‰‹æ‘‡ç£¨è±†æœº <sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup></li><li>kalita 700ml ç»†å˜´å£¶ <sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup></li><li>rivers seek éšæ‰‹æ¯ <sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup></li></ul><hr><ul><li><p>2020-0615 æ–°è´­å…¥ Mr.clever èªæ˜æ¯ <sup id=fnref:6><a href=#fn:6 class=footnote-ref role=doc-noteref>6</a></sup></p></li><li><p>2020-0622 æ–°è´­å…¥ hario drip kettle air <sup id=fnref:7><a href=#fn:7 class=footnote-ref role=doc-noteref>7</a></sup>ï¼Œ
ç”¨äº†ä¸¤æ¬¡æ‰‹æ„Ÿåè½»æ°´æµæ§åˆ¶å¾—ä¸ç¨³ T_T</p></li><li><p>2020-1027 æ–°è´­å…¥ fellow ode ç”µåŠ¨ç£¨è±†æœº <sup id=fnref:8><a href=#fn:8 class=footnote-ref role=doc-noteref>8</a></sup></p></li><li><p>2020-1109 æ–°è´­å…¥ fellow stagg ekg æ¸©æ§å£¶ <sup id=fnref:9><a href=#fn:9 class=footnote-ref role=doc-noteref>9</a></sup></p></li><li><p>2023-half æ–°è´­å…¥ hoop æ¾¡ç›†æ»¤æ¯ <sup id=fnref:10><a href=#fn:10 class=footnote-ref role=doc-noteref>10</a></sup>ï¼Œç±»ä¼¼èªæ˜æ¯ä½†ä¼šæ‹‰é•¿èƒå–æ—¶é—´</p></li></ul><p>æ¯å¤©ä¸€æ—© <del>ä¸­åˆ</del> åˆ°å…¬å¸å¼€å§‹çƒ§æ°´ï¼Œç„¶åå­å‘²å­å‘²æ‘‡ 40g è±†å­å…‘ 600ml å·¦å³çš„æ°´</p><p>æ‰‹æ³•å°±æ¯”è¾ƒ <del>éšæ„</del> ä¸šä½™å•¦ï¼Œä¸»è¦å‚è€ƒä¸‹é¢ä¸¤ä¸ªè§†é¢‘ï¼Œå‡ºå“å¤§æ¦‚ç‡è‡ªå·±éƒ½è¿˜æŒºå–œæ¬¢çš„
<strong>æŒ‰æ¯”ä¾‹åŠ æ³¨æ°´é‡ç¿»å€</strong></p><h3 id=46-method-by-tetsu-kasuya-4-6method>&ldquo;4:6 method&rdquo; by Tetsu Kasuya <sup id=fnref:11><a href=#fn:11 class=footnote-ref role=doc-noteref>11</a></sup></h3><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube.com/embed/wmCW8xSWGZY?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div><h3 id=the-ultimate-v60-technique-by-james-hoffmann>&ldquo;The Ultimate V60 Technique&rdquo; by James Hoffmann</h3><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube.com/embed/AI4ynXzkSQo?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div><h2 id=å®¶åº­ç‰ˆ>å®¶åº­ç‰ˆ</h2><ul><li>baratza encore ç”µåŠ¨ç£¨è±†å™¨ <sup id=fnref:12><a href=#fn:12 class=footnote-ref role=doc-noteref>12</a></sup></li><li>kinto OCT 2äººä»½é™¶ç“·æ»¤æ¯ <sup id=fnref:13><a href=#fn:13 class=footnote-ref role=doc-noteref>13</a></sup></li><li>ikea vardagen 500ml ç»ç’ƒé‡æ¯ <sup id=fnref:14><a href=#fn:14 class=footnote-ref role=doc-noteref>14</a></sup></li><li>muji ä¸‡å¤çƒ§é©¬å…‹æ¯ <sup id=fnref:15><a href=#fn:15 class=footnote-ref role=doc-noteref>15</a></sup></li></ul><hr><ul><li>2020-0615 æ–°è´­å…¥ hario filter-in å†·èƒç“¶ <del>å·²ç¢</del>ï¼Œ21å¹´å¤å†æ¬¡è´­å…¥ <sup id=fnref:16><a href=#fn:16 class=footnote-ref role=doc-noteref>16</a></sup></li></ul><p>åˆšå¼€å§‹çš„æ—¶å€™è£…å¤‡ä¸Šäº¤äº†ä¸å°‘å­¦è´¹ï¼Œæ¯”å¦‚ï¼š<del>ç”µåŠ¨ç è±†æœº</del>ã€<del>å»‰ä»·æ‰‹ç£¨</del>ã€<del>aeropress</del>ï¼Œ
è™½ç„¶ä¸èƒ½ä¸€æ¦‚è€Œè®ºï¼Œå®é™…ä¸Šå¾ˆå¤§ç¨‹åº¦è¿˜æ˜¯éµå¾ªä¸€åˆ†é’±ä¸€åˆ†è´§çš„åŸåˆ™ï¼Œæ€§èƒ½è¶Šå¥½åˆ™ä»·æ ¼å‘ˆæŒ‡æ•°ä¸Šæ¶¨
æ¡ä»¶å…è®¸çš„è¯å°½é‡é€‰æ‹©å¥½ä¸€ç‚¹çš„è®¾å¤‡ï¼Œæ¯•ç«Ÿä¹Ÿæ˜¯å¤©å¤©è¦ç”¨çš„å®¶ä¼™äº‹</p>&mldr;</div><a class=readmore href=/posts/pour-over-coffee-makers/>Read more âŸ¶</a></section><section class=list-item><h1 class=title><a href=/posts/mastodon/>Mastodon</a></h1><time>May 15, 2020</time><br><div class=description><p><code>Mastodon é•¿æ¯›è±¡</code><sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> &ndash; åŸºäº rubyonrails/reactjs/nodejs å¼€å‘çš„åˆ†å¸ƒå¼ &
å»ä¸­å¿ƒåŒ– twiter cloneã€‚åˆ©ç”¨ç©ºé—²æ—¶é—´åœ¨ aws lightsail ä¸Šå¼€äº†ä¸ªå®ä¾‹æŠŠæœåŠ¡è·‘äº†èµ·æ¥</p><p>ä¸€å¼€å§‹èµ°äº†äº›å¼¯è·¯ï¼Œå› ä¸ºé€‰æœºæˆ¿å’Œçœé’±çš„ç¼˜æ•…ï¼Œé‡å»ºäº†è‹¥å¹²æ¬¡æ“ä½œç³»ç»Ÿï¼Œæœ€åçš„é€‰æ‹©æ˜¯
tokyo+cloudflareï¼Œæ²¡é”™æˆ‘åˆå¥—äº† cdnï¼Œå®åœ¨æ˜¯æµ·å¤–çº¿è·¯åˆ°åŒ—äº¬è”é€šä¸ç¨³å®š</p><p>å®‰è£…æ­¥éª¤æ²¡æœ‰ä½¿ç”¨ docker è€Œæ˜¯å‚è€ƒæ–‡æ¡£ä»æºç å®‰è£…<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>ï¼ŒåŸå› å’Œè§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p><ul><li><p><del>æœºå™¨ç”¨ $3.5/mo 512mem æœ€ä¾¿å®œçš„é‚£æ¡£æ¶ˆè´¹é™çº§</del>(512M å†…å­˜é‡å¯ä¼šæ‹‰å®å¼±é¸¡ï¼ŒæœåŠ¡å·²è¿ç§»åˆ° oraclecloud)ï¼Œå‡ºäº net/io æ€§èƒ½è€ƒè™‘å°±ä¸ä½¿ docker å•¦</p></li><li><p>å†…å­˜é—®é¢˜ï¼Œ<code>RAILS_ENV=production bundle exec rake mastodon:setup</code>
è¿™ä¸€æ­¥éª¤æ‰§è¡Œåˆ° <code>rails assets:precompile</code>ï¼Œ
ä¸ç®¡æ˜¯åœ¨ docker é‡Œè·‘è¿˜æ˜¯ç›´æ¥è¿è¡Œéƒ½ä¼šæŠ¥ swap åˆ†åŒºä¸è¶³ï¼Œæ‰¾åˆ°ä¸¤ä¸ªæ–¹æ¡ˆæ¥è§£å†³:</p></li></ul><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#586e75># create swapfile &lt;https://linuxize.com/post/create-a-linux-swap-file/&gt;</span>
</span></span><span style=display:flex><span>$ sudo fallocate -l 2G /swapfile
</span></span><span style=display:flex><span>$ sudo chmod <span style=color:#2aa198>600</span> /swapfile
</span></span><span style=display:flex><span>$ sudo mkswap /swapfile
</span></span><span style=display:flex><span>$ sudo swapon /swapfile
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#586e75># verify active</span>
</span></span><span style=display:flex><span>$ sudo swapon --show
</span></span><span style=display:flex><span><span style=color:#586e75># optional: low value is better for production</span>
</span></span><span style=display:flex><span>$ sudo sysctl vm.swappiness<span style=color:#719e07>=</span><span style=color:#2aa198>10</span>
</span></span></code></pre></div><h2 id=é‚®ä»¶é…ç½®>é‚®ä»¶é…ç½®</h2><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#586e75># By default the memory limit in Node. js is 512 mb, </span>
</span></span><span style=display:flex><span><span style=color:#586e75># use command â€”- max-old-space-size to increase the memory limit</span>
</span></span><span style=display:flex><span>$ <span style=color:#268bd2>NODE_OPTIONS</span><span style=color:#719e07>=</span><span style=color:#2aa198>&#34;--max-old-space-size=4096&#34;</span> <span style=color:#268bd2>RAILS_ENV</span><span style=color:#719e07>=</span>production bundle <span style=color:#b58900>exec</span> rails assets:precompile
</span></span></code></pre></div><p>ç›´æ¥é…ç½® localhost å‘é€é‚®ä»¶æ— æ•ˆï¼Œå…ˆç”¨ <a href=https://sendgrid.com/>sendgrid</a> å…è´¹ç‰ˆé¡¶ç€, ä¸€å¤© 100 å°é‚®ä»¶ç›®å‰å¤Ÿç”¨</p>&mldr;</div><a class=readmore href=/posts/mastodon/>Read more âŸ¶</a></section><section class=list-item><h1 class=title><a href=/posts/gitlab-repo/>Gitlab Repo</a></h1><time>May 9, 2020</time><br><div class=description><p>gitlab é‡Œé¢å·²ç»æœ‰åæ¥ä¸ª groupï¼Œå‡ ç™¾ä¸ª projectï¼Œè™½ç„¶ä¸ä¸€å®šä¼šæ¯ä¸ªé¡¹ç›®éƒ½å‚ä¸ï¼Œ
ä½†æ˜¯ä¸ºäº†å¿«é€ŸåŒæ­¥ä»£ç ï¼Œåˆæ¡èµ·äº† android å¼€å‘å¸¸ç”¨çš„ repo å‘½ä»¤æ¥ç®¡ç†å¤šé¡¹ç›®ä»£ç ã€‚
è¿™é‡Œä½¿ç”¨äº† gitlab graphql æ¥å£æ¥éå†é¡¹ç›®ç”Ÿæˆåˆ†ç»„çš„ manifest æ–‡ä»¶</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#586e75>#!/usr/bin/env python</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>import</span> argparse
</span></span><span style=display:flex><span><span style=color:#719e07>import</span> json
</span></span><span style=display:flex><span><span style=color:#719e07>import</span> os
</span></span><span style=display:flex><span><span style=color:#719e07>import</span> urllib2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>GITLAB_HOST <span style=color:#719e07>=</span> <span style=color:#2aa198>&#34;gitlab.mydomain.com&#34;</span>
</span></span><span style=display:flex><span>GITLAB_SSH_URL <span style=color:#719e07>=</span> <span style=color:#2aa198>&#34;ssh://git@&#34;</span> <span style=color:#719e07>+</span> GITLAB_HOST
</span></span><span style=display:flex><span>GITLAB_GRAPHQL_URL <span style=color:#719e07>=</span> <span style=color:#2aa198>&#34;https://&#34;</span> <span style=color:#719e07>+</span> GITLAB_HOST <span style=color:#719e07>+</span> <span style=color:#2aa198>&#34;/api/graphql&#34;</span>
</span></span><span style=display:flex><span>GITLAB_TOKEN <span style=color:#719e07>=</span> <span style=color:#2aa198>&#34;&#34;</span>
</span></span><span style=display:flex><span>GITLAB_GROUP <span style=color:#719e07>=</span> [<span style=color:#2aa198>&#34;&#34;</span>]
</span></span><span style=display:flex><span>BLACK_LIST <span style=color:#719e07>=</span> (<span style=color:#2aa198>&#34;&#34;</span>,)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#586e75># ä»¥ä¸Šé…ç½®ä¿®æ”¹ä¸ºè‡ªå·±çš„è®¾å®š</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>template <span style=color:#719e07>=</span> <span style=color:#2aa198>&#34;&#34;&#34;&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
</span></span></span><span style=display:flex><span><span style=color:#2aa198>&lt;!-- autogen by gen.py, do not edit this file --&gt;
</span></span></span><span style=display:flex><span><span style=color:#2aa198>&lt;manifest&gt;
</span></span></span><span style=display:flex><span><span style=color:#2aa198>  &lt;remote  name=&#34;origin&#34; fetch=&#34;</span><span style=color:#2aa198>{ssh_url}</span><span style=color:#2aa198>&#34; /&gt;
</span></span></span><span style=display:flex><span><span style=color:#2aa198>  &lt;default revision=&#34;master&#34; remote=&#34;origin&#34; sync-c=&#34;true&#34; sync-j=&#34;4&#34; /&gt;
</span></span></span><span style=display:flex><span><span style=color:#2aa198></span><span style=color:#2aa198>{content}</span><span style=color:#2aa198>
</span></span></span><span style=display:flex><span><span style=color:#2aa198>&lt;/manifest&gt;&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>def</span> <span style=color:#268bd2>write_file</span>(content, filename<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;default.xml&#34;</span>):
</span></span><span style=display:flex><span>    _file <span style=color:#719e07>=</span> os<span style=color:#719e07>.</span>path<span style=color:#719e07>.</span>join(os<span style=color:#719e07>.</span>path<span style=color:#719e07>.</span>dirname(__file__), filename)
</span></span><span style=display:flex><span>    <span style=color:#719e07>with</span> <span style=color:#b58900>open</span>(_file, <span style=color:#2aa198>&#34;w&#34;</span>) <span style=color:#719e07>as</span> f:
</span></span><span style=display:flex><span>        f<span style=color:#719e07>.</span>write(template<span style=color:#719e07>.</span>format(content<span style=color:#719e07>=</span>content, ssh_url<span style=color:#719e07>=</span>GITLAB_SSH_URL))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>def</span> <span style=color:#268bd2>fetch_project_of_group</span>(group, write<span style=color:#719e07>=</span><span style=color:#cb4b16>True</span>):
</span></span><span style=display:flex><span>    data <span style=color:#719e07>=</span> <span style=color:#2aa198>&#39;{ group(fullPath: &#34;</span><span style=color:#2aa198>%s</span><span style=color:#2aa198>&#34;) { projects { nodes { fullPath } } }}&#39;</span> <span style=color:#719e07>%</span> group
</span></span><span style=display:flex><span>    req <span style=color:#719e07>=</span> urllib2<span style=color:#719e07>.</span>Request(
</span></span><span style=display:flex><span>        GITLAB_GRAPHQL_URL,
</span></span><span style=display:flex><span>        data<span style=color:#719e07>=</span>json<span style=color:#719e07>.</span>dumps(<span style=color:#b58900>dict</span>(query<span style=color:#719e07>=</span>data)),
</span></span><span style=display:flex><span>        headers<span style=color:#719e07>=</span>{
</span></span><span style=display:flex><span>            <span style=color:#2aa198>&#34;Authorization&#34;</span>: <span style=color:#2aa198>&#34;Bearer &#34;</span> <span style=color:#719e07>+</span> GITLAB_TOKEN,
</span></span><span style=display:flex><span>            <span style=color:#2aa198>&#34;Content-Type&#34;</span>: <span style=color:#2aa198>&#34;application/json&#34;</span>,
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    resp <span style=color:#719e07>=</span> json<span style=color:#719e07>.</span>load(urllib2<span style=color:#719e07>.</span>urlopen(req))
</span></span><span style=display:flex><span>    content <span style=color:#719e07>=</span> <span style=color:#2aa198>&#34;</span><span style=color:#cb4b16>\n</span><span style=color:#2aa198>&#34;</span><span style=color:#719e07>.</span>join(
</span></span><span style=display:flex><span>        [
</span></span><span style=display:flex><span>            <span style=color:#2aa198>&#39;&lt;project path=&#34;</span><span style=color:#2aa198>{d}</span><span style=color:#2aa198>&#34; name=&#34;</span><span style=color:#2aa198>{d}</span><span style=color:#2aa198>&#34;/&gt;&#39;</span><span style=color:#719e07>.</span>format(d<span style=color:#719e07>=</span>p[<span style=color:#2aa198>&#34;fullPath&#34;</span>])
</span></span><span style=display:flex><span>            <span style=color:#719e07>for</span> p <span style=color:#719e07>in</span> resp[<span style=color:#2aa198>&#34;data&#34;</span>][<span style=color:#2aa198>&#34;group&#34;</span>][<span style=color:#2aa198>&#34;projects&#34;</span>][<span style=color:#2aa198>&#34;nodes&#34;</span>]
</span></span><span style=display:flex><span>            <span style=color:#719e07>if</span> p[<span style=color:#2aa198>&#34;fullPath&#34;</span>] <span style=color:#719e07>not</span> <span style=color:#719e07>in</span> BLACK_LIST
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>if</span> write:
</span></span><span style=display:flex><span>        write_file(content, filename<span style=color:#719e07>=</span>group<span style=color:#719e07>.</span>replace(<span style=color:#2aa198>&#34;/&#34;</span>, <span style=color:#2aa198>&#34;-&#34;</span>) <span style=color:#719e07>+</span> <span style=color:#2aa198>&#34;-group.xml&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#719e07>else</span>:
</span></span><span style=display:flex><span>        <span style=color:#719e07>return</span> content
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>def</span> <span style=color:#268bd2>main</span>():
</span></span><span style=display:flex><span>    parser <span style=color:#719e07>=</span> argparse<span style=color:#719e07>.</span>ArgumentParser(description<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;Process some projects.&#34;</span>)
</span></span><span style=display:flex><span>    parser<span style=color:#719e07>.</span>add_argument(
</span></span><span style=display:flex><span>        <span style=color:#2aa198>&#34;-G&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#2aa198>&#34;--group&#34;</span>,
</span></span><span style=display:flex><span>        help<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;for group/subgroup or all&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#b58900>type</span><span style=color:#719e07>=</span><span style=color:#b58900>str</span>,
</span></span><span style=display:flex><span>        choices<span style=color:#719e07>=</span>ns <span style=color:#719e07>+</span> [<span style=color:#2aa198>&#34;all&#34;</span>, <span style=color:#2aa198>&#34;default&#34;</span>],
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    arg <span style=color:#719e07>=</span> parser<span style=color:#719e07>.</span>parse_args()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>if</span> arg<span style=color:#719e07>.</span>group <span style=color:#719e07>==</span> <span style=color:#2aa198>&#34;all&#34;</span>:
</span></span><span style=display:flex><span>        <span style=color:#719e07>for</span> x <span style=color:#719e07>in</span> GITLAB_GROUP:
</span></span><span style=display:flex><span>            fetch_project_of_group(x)
</span></span><span style=display:flex><span>        d <span style=color:#719e07>=</span> [fetch_project_of_group(x, write<span style=color:#719e07>=</span><span style=color:#cb4b16>False</span>) <span style=color:#719e07>for</span> x <span style=color:#719e07>in</span> GITLAB_GROUP]
</span></span><span style=display:flex><span>        write_file(<span style=color:#2aa198>&#34;</span><span style=color:#cb4b16>\n</span><span style=color:#2aa198>&#34;</span><span style=color:#719e07>.</span>join(d))
</span></span><span style=display:flex><span>    <span style=color:#719e07>elif</span> arg<span style=color:#719e07>.</span>group <span style=color:#719e07>==</span> <span style=color:#2aa198>&#34;default&#34;</span>:
</span></span><span style=display:flex><span>        d <span style=color:#719e07>=</span> [fetch_project_of_group(x, write<span style=color:#719e07>=</span><span style=color:#cb4b16>False</span>) <span style=color:#719e07>for</span> x <span style=color:#719e07>in</span> GITLAB_GROUP]
</span></span><span style=display:flex><span>        write_file(<span style=color:#2aa198>&#34;</span><span style=color:#cb4b16>\n</span><span style=color:#2aa198>&#34;</span><span style=color:#719e07>.</span>join(d))
</span></span><span style=display:flex><span>    <span style=color:#719e07>else</span>:
</span></span><span style=display:flex><span>        fetch_project_of_group(arg<span style=color:#719e07>.</span>group)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>if</span> __name__ <span style=color:#719e07>==</span> <span style=color:#2aa198>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    main()
</span></span></code></pre></div><p><strong>USAGE:</strong> åˆ›å»ºå®Œ manifest æ–‡ä»¶ä¹‹åæäº¤åˆ°ä»“åº“å°±å¯ä»¥æ„‰å¿«çš„ç©è€å•¦</p>&mldr;</div><a class=readmore href=/posts/gitlab-repo/>Read more âŸ¶</a></section><section class=list-item><h1 class=title><a href=/posts/dash-replacement/>Dash Replacement with tmux</a></h1><time>May 7, 2020</time><br><div class=description><p>é€šè¿‡ tmux å¿«æ·é›†æˆæ›¿æ¢ dash.app æŸ¥è¯¢å¼€å‘æ–‡æ¡£</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>$ brew install dasht
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ dasht-docsets | tr &#39;A-Z&#39; &#39;a-z&#39;
</span></span><span style=display:flex><span>go
</span></span><span style=display:flex><span>javascript
</span></span><span style=display:flex><span>python_3
</span></span><span style=display:flex><span>rust
</span></span><span style=display:flex><span>tornado
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span># tmux.conf quick start
</span></span><span style=display:flex><span>bind -n S-up command-prompt -p &#39;docset:&#39; &#34;splitw -h -fb -l 80 dasht &#39;%%&#39;&#34;
</span></span></code></pre></div>&mldr;</div><a class=readmore href=/posts/dash-replacement/>Read more âŸ¶</a></section><section class=list-item><h1 class=title><a href=/posts/cloudflare-gost/>Cloudflare Gost</a></h1><time>May 7, 2020</time><br><div class=description><p>ä»æ¸…æ˜èŠ‚å¼€å§‹ï¼Œç¨³å®šè¿è¡Œå¥½å‡ å¹´çš„ ss æœåŠ¡å™¨ç»ˆäºé˜µäº¡äº†ï¼Œæ‰€æœ‰ç«¯å£å…¨æŒ‚ã€‚ä¸€ç›´è¹­å…¬å¸çš„ vpn æŸ¥èµ„æ–™ä¹ŸæŒºåˆ°äº†äº”ä¸€ï¼Œå®åœ¨æ‹–å»¶å¤Ÿå¤Ÿçš„å°±å†å¦å¤–å¼€äº†ä¸€å°æœºå™¨ä¸­è½¬è¿‡å»è¿ç§»æ•°æ®ï¼Œä¸è¿‡å˜›å¹´çºªå¤§äº†åˆå¼€å§‹çŠ¯æ‡’ï¼Œä¼å›¾æ‹¯æ•‘è·å¾—èµ„æ ¼è®¤è¯çš„æœºå™¨ï¼Œé€šè¿‡ä¸€ç•ªç½‘ä¸Šå†²æµªå­¦ä¹ åˆ°äº†ç›®å‰(å®æµ‹å¯ç”¨)èƒ½æ»¡è¶³æˆ‘éœ€æ±‚çš„æ–¹æ¡ˆã€‚ç®€å•æ¥è¯´å°±æ˜¯ï¼šcloudflare[åæ–‡ç®€ç§°ä¸º cf] + websockets over gostï¼Œå®é™…çš„å®¢æˆ·ç«¯é€šè¿‡ cdn ä»£ç†å†æ¥å…¥æœåŠ¡</p><p>æœ‰å‡ ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š</p><ul><li><p>gost å¯åŠ¨æ—¶ç»‘å®šçš„ localhost ä¸ç›´æ¥å¯¹å¤–è®¿é—®ï¼Œèµ°äº† caddy çš„è½¬å‘ï¼Œè€Œè¿™ä¸€æ­¥å’Œ cf çš„ ssl è¯ä¹¦é…ç½®ä¼šé€ æˆä¸åœçš„é‡å®šå‘è·³è½¬ï¼Œéœ€è¦å°† cf åŠ å¯†æ¨¡å¼é…ç½®ä¸º flexible</p></li><li><p>ç„¶åä¿®æ”¹ caddy çš„åŸŸåé…ç½®ä¸º <a href=http://domain.com>http://domain.com</a> <a href=https://domain.com>https://domain.com</a> { &mldr; } é˜»æ­¢ cf å’Œ caddy ä¹‹é—´çš„ http -> https</p></li><li><p>gost æœåŠ¡ç«¯ç›‘å¬ ws åè®®ï¼Œæœ¬åœ°çš„ gost å®¢æˆ·ç«¯è½¬å‘ wss åè®®è¿æ¥ cf_domain:443</p></li><li><p>éœ€è¦é‰´æƒçš„æ–¹æ¡ˆä½¿ç”¨ socks5+wss://username:password@domain:port</p></li><li><p>android å®¢æˆ·ç«¯çš„è®¾ç½®ï¼Œå› ä¸ºä½¿ç”¨äº† ws åè®®ï¼Œæ‰€ä»¥éœ€è¦å°†åŸŸåå†™å…¥åˆ°æ’ä»¶çš„é…ç½®é‡Œï¼Œç›´æ¥ç”¨åŸŸåå˜é‡æ— æ³•è§£æ</p></li></ul><p>å…·ä½“é…ç½®å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œ<strong>ä¸€åˆ‡æµªè´¹çš„æ—¶é—´éƒ½æ˜¯æºäºæ²¡è®¤çœŸä»”ç»†çœ‹æ–‡æ¡£</strong></p><ul><li><a href=https://github.com/haoel/haoel.github.io>https://github.com/haoel/haoel.github.io</a></li><li><a href=https://github.com/ginuerzh/gost>https://github.com/ginuerzh/gost</a></li><li><a href=https://github.com/xausky/ShadowsocksGostPlugin>https://github.com/xausky/ShadowsocksGostPlugin</a></li></ul><p><strong>update 2021-03-01</strong> ç”±äº shawdowsocks çš„ android å®¢æˆ·ç«¯å‡çº§å¯¼è‡´æ’ä»¶ä¸å¯ç”¨ï¼Œå¦å¤–éƒ¨ç½²äº† <a href=https://github.com/txthinking/brook>brook</a> wsserver ç»™æ‰‹æœºä½¿ç”¨</p>&mldr;</div><a class=readmore href=/posts/cloudflare-gost/>Read more âŸ¶</a></section><section class=list-item><h1 class=title><a href=/posts/webpack-resolve-local-module/>webpack resolve local module</a></h1><time>Jan 13, 2017</time><br><div class=description><p>æœ€è¿‘çš„é¡¹ç›®åˆšå¼€å§‹ï¼Œè®¾è®¡çš„ç›®å½•å±‚çº§æœ‰ç‚¹æ·±<br>ç»å¸¸ä¼šåœ¨å¥½å‡ å±‚æœ¬åœ°è·¯å¾„ä¹‹é—´äº’ç›¸å¼•ç”¨</p><p><code>import Image from '../../../../components/image'</code></p><p>è¿™å±‚å±‚å å çš„è·¯å¾„å†™èµ·æ¥å®åœ¨ä¸‘é™‹<br>ä¸ç”±å¾—æƒ³èµ· Python ä»é¡¹ç›®æ ¹ç›®å½•å¼•ç”¨æ¨¡å—<br>ç„¶åç ”ç©¶äº†ä¸€ä¸‹ Node.js é‡Œçš„å‡ ç§ç®€æ˜“å®ç°</p><p>å¹²è„†åˆ©è½çš„è½¯è¿æ¥: <code>ln -s node_modules src</code></p><p>ä¿®æ”¹ç¯å¢ƒå˜é‡: <code>NODE_PATH=. node app</code></p><p>ä»æœ¬åœ°ç›®å½•å®‰è£…:</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#586e75>// package.json 
</span></span></span><span style=display:flex><span><span style=color:#586e75>// éœ€è¦è¿è¡Œ npm install
</span></span></span><span style=display:flex><span><span style=color:#586e75></span>{
</span></span><span style=display:flex><span>  <span style=color:#2aa198>&#34;name&#34;</span><span style=color:#719e07>:</span> <span style=color:#2aa198>&#34;baz&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#2aa198>&#34;dependencies&#34;</span><span style=color:#719e07>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#2aa198>&#34;foo&#34;</span><span style=color:#719e07>:</span> <span style=color:#2aa198>&#34;file: ./src&#34;</span>,
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>å¦å¤–è¿˜æœ‰äº›ä¿®æ”¹ globalï¼Œæˆ–è€…å¼•å…¥å…¶ä»– require å®ç°çš„æ–¹æ³•å°±ä¸å†ä¸€ä¸€åˆ—å‡ºäº†<br>æœ€ç»ˆé€‰æ‹©çš„æ˜¯ä¿®æ”¹ webpack é…ç½®</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>// webpack.config.js
</span></span><span style=display:flex><span>resolve: {
</span></span><span style=display:flex><span>  modulesDirectories: [__dirname, &#39;node_modules&#39;],
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><a href=https://gist.github.com/branneman/8048520>https://gist.github.com/branneman/8048520</a>
<a href=http://stackoverflow.com/questions/10860244/how-to-make-the-require-in-node-js-to-be-always-relative-to-the-root-folder-of-t/41078266#41078266>http://stackoverflow.com/questions/10860244/how-to-make-the-require-in-node-js-to-be-always-relative-to-the-root-folder-of-t/41078266#41078266</a>
<a href=https://webpack.github.io/docs/configuration.html#resolve-modulesdirectories>https://webpack.github.io/docs/configuration.html#resolve-modulesdirectories</a></p>&mldr;</div><a class=readmore href=/posts/webpack-resolve-local-module/>Read more âŸ¶</a></section><section class=list-item><h1 class=title><a href=/posts/leonard-cohen-you-want-it-darker/>Leonard Cohen - you want it darker</a></h1><time>Oct 25, 2016</time><br><div class=description><h2 id=å¹´åº¦æœ€ä½³>å¹´åº¦æœ€ä½³</h2><p><a href=https://open.spotify.com/album/3jeTB3j3QmUs8SPIVleHtU><img src=images/you-want-it-darker.jpg alt="you want it darker"></a></p><p><a href=https://open.spotify.com/album/3jeTB3j3QmUs8SPIVleHtU>you want it darker</a></p><p>å¾ªç¯å¬äº†å¥½å‡ å¤©</p><p>å¹²å‡€ä½æ²‰çš„å—“éŸ³åŠ é…ä¹</p><p>æ„ˆå‘æ‹…å¿ƒä»¥åå¬ä¸åˆ°äº†æ€ä¹ˆåŠ ğŸ˜¢ï½</p>&mldr;</div><a class=readmore href=/posts/leonard-cohen-you-want-it-darker/>Read more âŸ¶</a></section><section class=list-item><h1 class=title><a href=/posts/web-audio/>web audio</a></h1><time>Jun 15, 2016</time><br><div class=description><p>ç…§æ–‡æ¡£æ’¸äº†ä¸€ä¸‹ AudioContext å¯è§†åŒ–éŸ³é¢‘<br>æ¡Œé¢æµè§ˆå™¨ä¸Š Safari 9, Chrome stable ç»˜åˆ¶æ­£å¸¸<br>ç§»åŠ¨ç«¯åªæœ‰å¾®ä¿¡çš„ webview èƒ½å·¥ä½œ, çº¯ç©ç¥¨å»
<img src=https://mdn.mozillademos.org/files/7977/wave.png alt=wave></p><p>ref:
<a href=https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Visualizations_with_Web_Audio_API>https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Visualizations_with_Web_Audio_API</a></p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#719e07>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#268bd2>html</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#268bd2>head</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#268bd2>meta</span> charset<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;utf-8&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#268bd2>meta</span> name<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;viewport&#34;</span> content<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;width=device-width, user-scalable=no&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#268bd2>title</span>&gt;AV&lt;/<span style=color:#268bd2>title</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#268bd2>head</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#268bd2>body</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#268bd2>canvas</span> id<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;vis&#34;</span>&gt;&lt;/<span style=color:#268bd2>canvas</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#268bd2>audio</span> id<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;av&#34;</span> src<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;YOUR_AUDIO_FILE&#34;</span>&gt;&lt;/<span style=color:#268bd2>audio</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#268bd2>script</span> src<span style=color:#719e07>=</span><span style=color:#2aa198>&#34;index.js&#34;</span>&gt;&lt;/<span style=color:#268bd2>script</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#268bd2>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#268bd2>html</span>&gt;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#b58900>window</span>.AudioContext <span style=color:#719e07>=</span> <span style=color:#b58900>window</span>.AudioContext <span style=color:#719e07>||</span> <span style=color:#b58900>window</span>.webkitAudioContext <span style=color:#719e07>||</span> <span style=color:#b58900>window</span>.mozAudioContext;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b58900>window</span>.onload <span style=color:#719e07>=</span> <span style=color:#268bd2>function</span>(){
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#268bd2>var</span> canvas <span style=color:#719e07>=</span> <span style=color:#b58900>document</span>.getElementById(<span style=color:#2aa198>&#39;vis&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#268bd2>var</span> canvasCtx <span style=color:#719e07>=</span> canvas.getContext(<span style=color:#2aa198>&#39;2d&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#268bd2>var</span> isPlaying <span style=color:#719e07>=</span> <span style=color:#cb4b16>true</span>;
</span></span><span style=display:flex><span>  <span style=color:#268bd2>var</span> audio <span style=color:#719e07>=</span> <span style=color:#b58900>document</span>.getElementById(<span style=color:#2aa198>&#39;av&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#268bd2>var</span> audioCtx <span style=color:#719e07>=</span> <span style=color:#719e07>new</span> AudioContext();
</span></span><span style=display:flex><span>  <span style=color:#268bd2>var</span> analyser <span style=color:#719e07>=</span> audioCtx.createAnalyser();
</span></span><span style=display:flex><span>  <span style=color:#268bd2>var</span> audioSrc <span style=color:#719e07>=</span> audioCtx.createMediaElementSource(audio);
</span></span><span style=display:flex><span>  audioSrc.connect(analyser);
</span></span><span style=display:flex><span>  analyser.connect(audioCtx.destination);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  analyser.fftSize <span style=color:#719e07>=</span> <span style=color:#2aa198>2048</span>;
</span></span><span style=display:flex><span>  <span style=color:#268bd2>var</span> bufferLength <span style=color:#719e07>=</span> analyser.fftSize;
</span></span><span style=display:flex><span>  dataArray <span style=color:#719e07>=</span> <span style=color:#719e07>new</span> Uint8Array(bufferLength);
</span></span><span style=display:flex><span>  analyser.getByteTimeDomainData(dataArray);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  WIDTH <span style=color:#719e07>=</span> <span style=color:#2aa198>500</span>;
</span></span><span style=display:flex><span>  HEIGHT <span style=color:#719e07>=</span> <span style=color:#2aa198>150</span>;
</span></span><span style=display:flex><span>  <span style=color:#268bd2>function</span> draw() {
</span></span><span style=display:flex><span>    requestAnimationFrame(draw);
</span></span><span style=display:flex><span>    <span style=color:#719e07>if</span> (<span style=color:#719e07>!</span>isPlaying) <span style=color:#719e07>return</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    analyser.getByteTimeDomainData(dataArray);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    canvasCtx.fillStyle <span style=color:#719e07>=</span> <span style=color:#2aa198>&#39;rgb(200, 200, 200)&#39;</span>;
</span></span><span style=display:flex><span>    canvasCtx.fillRect(<span style=color:#2aa198>0</span>, <span style=color:#2aa198>0</span>, WIDTH, HEIGHT);
</span></span><span style=display:flex><span>    canvasCtx.lineWidth <span style=color:#719e07>=</span> <span style=color:#2aa198>2</span>;
</span></span><span style=display:flex><span>    canvasCtx.strokeStyle <span style=color:#719e07>=</span> <span style=color:#2aa198>&#39;rgb(0, 0, 0)&#39;</span>;
</span></span><span style=display:flex><span>    canvasCtx.beginPath();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>var</span> sliceWidth <span style=color:#719e07>=</span> WIDTH <span style=color:#719e07>*</span> <span style=color:#2aa198>1.0</span> <span style=color:#719e07>/</span> bufferLength;
</span></span><span style=display:flex><span>    <span style=color:#268bd2>var</span> x <span style=color:#719e07>=</span> <span style=color:#2aa198>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#719e07>for</span>(<span style=color:#268bd2>var</span> i <span style=color:#719e07>=</span> <span style=color:#2aa198>0</span>; i <span style=color:#719e07>&lt;</span> bufferLength; i<span style=color:#719e07>++</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#268bd2>var</span> v <span style=color:#719e07>=</span> dataArray[i] <span style=color:#719e07>/</span> <span style=color:#2aa198>128.0</span>;
</span></span><span style=display:flex><span>      <span style=color:#268bd2>var</span> y <span style=color:#719e07>=</span> v <span style=color:#719e07>*</span> HEIGHT<span style=color:#719e07>/</span><span style=color:#2aa198>2</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#719e07>if</span>(i <span style=color:#719e07>===</span> <span style=color:#2aa198>0</span>) {
</span></span><span style=display:flex><span>        canvasCtx.moveTo(x, y);
</span></span><span style=display:flex><span>      } <span style=color:#719e07>else</span> {
</span></span><span style=display:flex><span>        canvasCtx.lineTo(x, y);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      x <span style=color:#719e07>+=</span> sliceWidth;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    canvasCtx.lineTo(canvas.width, canvas.height<span style=color:#719e07>/</span><span style=color:#2aa198>2</span>);
</span></span><span style=display:flex><span>    canvasCtx.stroke();
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  draw();
</span></span><span style=display:flex><span>  audio.play();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#b58900>document</span>.body.onclick <span style=color:#719e07>=</span> <span style=color:#268bd2>function</span>() {
</span></span><span style=display:flex><span>    console.log(audio, isPlaying);
</span></span><span style=display:flex><span>    <span style=color:#719e07>if</span> (isPlaying) {
</span></span><span style=display:flex><span>      audio.pause();
</span></span><span style=display:flex><span>      isPlaying <span style=color:#719e07>=</span> <span style=color:#cb4b16>false</span>;
</span></span><span style=display:flex><span>    } <span style=color:#719e07>else</span> {
</span></span><span style=display:flex><span>      audio.play();
</span></span><span style=display:flex><span>      isPlaying <span style=color:#719e07>=</span> <span style=color:#cb4b16>true</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div>&mldr;</div><a class=readmore href=/posts/web-audio/>Read more âŸ¶</a></section><section class=list-item><h1 class=title><a href=/posts/move-to-caddy/>move to caddy</a></h1><time>Apr 26, 2016</time><br><div class=description><p>å»å¹´ç”¨ Hexo æ­å»ºçš„æ—¥å¿—å·²ç»å¥½å‡ ä¸ªæœˆæ²¡æ›´æ–°äº†ï¼Œæœ€è¿‘ä¼‘å‡æœ‰ç‚¹ç©ºé—²å°±ç»§ç»­æ›´æ–°å§ã€‚<br>å…ˆä» Github è¿ç§»å›è‡ªå·±çš„ Linodeï¼Œç„¶åå®‰è£…ä¸€ä¸ª Caddyserver<a href=https://caddyserver.com/>1</a> æ¥æ¸²æŸ“ markdown</p><blockquote><p>Caddy is a unique web server with a modern feature set. Think nginx or Apache, but written in Go. With Caddy, you can serve your websites over HTTP/2. It can act as a reverse proxy and load balancer. Front your PHP apps with it. You can even deploy your site with git push. Cool, right?<a href=https://blog.gopheracademy.com/caddy-a-look-inside/>2</a></p></blockquote><h2 id=download-and-install-systemd>Download and install systemd</h2><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wget -O <span style=color:#2aa198>&#39;caddy.tar.gz&#39;</span> <span style=color:#2aa198>&#39;https://caddyserver.com/download/build?os=linux&amp;arch=amd64&amp;features=git%2Cipfilter&#39;</span>
</span></span><span style=display:flex><span>tar zxf caddy.tar.gz
</span></span><span style=display:flex><span>mkdir /opt/caddy
</span></span><span style=display:flex><span>mkdir /var/run/caddy/
</span></span><span style=display:flex><span>chown caddy:caddy -R /opt/caddy
</span></span><span style=display:flex><span>chown caddy:caddy -R /var/run/caddy
</span></span><span style=display:flex><span>mv caddy /opt/caddy/
</span></span><span style=display:flex><span>useradd -d /var/run/caddy --system caddy
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>chmod <span style=color:#2aa198>644</span> /etc/systemd/system/caddy.service
</span></span><span style=display:flex><span>systemctl <span style=color:#b58900>enable</span> caddy.service
</span></span><span style=display:flex><span>systemctl start caddy.service
</span></span><span style=display:flex><span>systemctl status caddy.service
</span></span></code></pre></div><p><a href=https://github.com/caddyserver/examples/blob/master/systemd%2Fcaddy.service>https://github.com/caddyserver/examples/blob/master/systemd%2Fcaddy.service</a></p>&mldr;</div><a class=readmore href=/posts/move-to-caddy/>Read more âŸ¶</a></section><section class=list-item><h1 class=title><a href=/posts/mongodb-backup/>mongodb backup</a></h1><time>Dec 22, 2015</time><br><div class=description><p>æœ‰å°æœºå™¨å‡†å¤‡2æœˆä»½ä¸‹æ¶
è®°ä¸€ä¸ª mongodb å¤‡ä»½å°è„šæœ¬ :)</p><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#719e07>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#719e07></span><span style=color:#586e75># vim: set et sw=2 ts=2 sts=2 ff=unix fenc=utf8:</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#268bd2>MONGO_DATABASE</span><span style=color:#719e07>=</span><span style=color:#2aa198>&#34;_name_&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#268bd2>MONGO_HOST</span><span style=color:#719e07>=</span><span style=color:#2aa198>&#34;_ip_&#34;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>MONGO_PORT</span><span style=color:#719e07>=</span><span style=color:#2aa198>&#34;_prot_&#34;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>TIMESTAMP</span><span style=color:#719e07>=</span><span style=color:#586e75>`</span>date +%Y-%m-%dT%H:%M:%S<span style=color:#586e75>`</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>MONGODUMP_PATH</span><span style=color:#719e07>=</span><span style=color:#2aa198>&#34;/usr/bin/mongodump&#34;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>BACKUPS_DIR</span><span style=color:#719e07>=</span><span style=color:#2aa198>&#34;/data/dumps/&#34;</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>BACKUP_NAME</span><span style=color:#719e07>=</span><span style=color:#2aa198>&#34;</span><span style=color:#268bd2>$MONGO_DATABASE</span><span style=color:#2aa198>-</span><span style=color:#268bd2>$TIMESTAMP</span><span style=color:#2aa198>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>while</span> <span style=color:#b58900>test</span> <span style=color:#268bd2>$#</span> -gt <span style=color:#2aa198>0</span>
</span></span><span style=display:flex><span><span style=color:#719e07>do</span>
</span></span><span style=display:flex><span>  <span style=color:#719e07>case</span> <span style=color:#2aa198>&#34;</span><span style=color:#268bd2>$1</span><span style=color:#2aa198>&#34;</span> in
</span></span><span style=display:flex><span>    -m<span style=color:#719e07>)</span> <span style=color:#b58900>echo</span> <span style=color:#2aa198>&#34;backup mongthly and clear week_dir&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#586e75>#rm $BACKUPS_DIR&#34;week/*&#34;</span>
</span></span><span style=display:flex><span>      find <span style=color:#268bd2>$BACKUPS_DIR</span><span style=color:#2aa198>&#34;week&#34;</span> -type f -name <span style=color:#2aa198>&#39;*.tgz&#39;</span> -delete
</span></span><span style=display:flex><span>      tar -czPf <span style=color:#268bd2>$BACKUPS_DIR</span><span style=color:#2aa198>&#34;month/&#34;</span><span style=color:#268bd2>$BACKUP_NAME</span>.tgz <span style=color:#268bd2>$BACKUPS_DIR$MONGO_DATABASE</span>
</span></span><span style=display:flex><span>      ;;
</span></span><span style=display:flex><span>    -w<span style=color:#719e07>)</span> <span style=color:#b58900>echo</span> <span style=color:#2aa198>&#34;backup weekly&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#b58900>echo</span> <span style=color:#2aa198>&#34;tar -czPf </span><span style=color:#268bd2>$BACKUPS_DIR</span><span style=color:#2aa198>&#34;</span>week/<span style=color:#2aa198>&#34;</span><span style=color:#268bd2>$BACKUP_NAME</span><span style=color:#2aa198>.tgz </span><span style=color:#268bd2>$BACKUPS_DIR$MONGO_DATABASE</span><span style=color:#2aa198>&#34;</span>
</span></span><span style=display:flex><span>      ;;
</span></span><span style=display:flex><span>    -d<span style=color:#719e07>)</span> <span style=color:#b58900>echo</span> <span style=color:#2aa198>&#34;just dump&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#268bd2>$MONGODUMP_PATH</span> -d <span style=color:#268bd2>$MONGO_DATABASE</span> --out <span style=color:#268bd2>$BACKUPS_DIR</span>
</span></span><span style=display:flex><span>      ;;
</span></span><span style=display:flex><span>    *<span style=color:#719e07>)</span> <span style=color:#b58900>echo</span> <span style=color:#2aa198>&#34;do nothing&#34;</span>
</span></span><span style=display:flex><span>      ;;
</span></span><span style=display:flex><span>  <span style=color:#719e07>esac</span>
</span></span><span style=display:flex><span>  <span style=color:#b58900>shift</span>
</span></span><span style=display:flex><span><span style=color:#719e07>done</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span># crontab -e
</span></span><span style=display:flex><span>10 3 * * * /bin/bash $HOME/bin/mongobackup.sh -d &gt; /dev/null 2&gt;&amp;1
</span></span><span style=display:flex><span>20 3 * * 1 /bin/bash $HOME/bin/mongobackup.sh -w &gt; /dev/null 2&gt;&amp;1
</span></span><span style=display:flex><span>30 3 1 * * /bin/bash $HOME/bin/mongobackup.sh -m &gt; /dev/null 2&gt;&amp;1
</span></span></code></pre></div><p>æ¯å¤©æ—©ä¸Š3ç‚¹æŒ‰å¤©ï¼å‘¨ï¼æœˆåˆ†åˆ«ä¿å­˜</p>&mldr;</div><a class=readmore href=/posts/mongodb-backup/>Read more âŸ¶</a></section><ul class=pagination><span class="page-item page-prev"><a href=/ class=page-link aria-label=Previous><span aria-hidden=true>â† Prev</span></a>
</span><span class="page-item page-next"><a href=/page/3/ class=page-link aria-label=Next><span aria-hidden=true>Next â†’</span></a></span></ul></main><footer><div style=display:flex><a class=soc href=/index.xml rel=me title=RSS><i data-feather=rss></i></a>
<a class=border></a><a class=soc href=/daydayup/ rel=me title=Status><i data-feather=activity></i></a>
<a class=border></a><a class=soc href=https://yankuiyi.com/ rel=me title=microfeed><i data-feather=radio></i></a>
<a class=border></a><a class=soc href=https://fouland.com/ rel=me title=Logseq><i data-feather=inbox></i></a>
<a class=border></a><a class=soc href=https://at.yadanhe.com/ rel=me title=Mastodon><i data-feather=at-sign></i></a>
<a class=border></a></div><div class=footer-info>2024 <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer><script>feather.replace()</script></div></body></html>